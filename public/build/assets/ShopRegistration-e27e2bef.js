import{_ as A,u as N,a as C,b as m,e as U,y as _,m as S,l as L,d as F,f as R,g,h as i,o as p,z as B,w as n,k as r,t as a,j as t,n as D,i as v,p as T,F as j,v as u}from"./app-f730b58b.js";const{verifyRecaptcha:z}=N(),I={data:()=>({loading:!1,v$:C(),form:{name:"",phone:"",email:"",password:"",confirmPassword:"",shopName:"",shopPhone:"",shopAddress:""}}),components:{},validations:{form:{name:{required:m},email:{required:m,email:U},phone:{required:m,minLength:_(10),phoneFormat:e=>e?/^\d{10}$/.test(e):!0},password:{required:m,minLength:_(6)},confirmPassword:{required:m},shopName:{required:m},shopPhone:{required:m},shopAddress:{required:m}}},computed:{...S("app",["generalSettings"]),nameErrors(){const e=[];return this.v$.form.name.$dirty&&!this.v$.form.name.required&&e.push(this.$i18n.t("this_field_is_required")),e},emailErrors(){const e=[];return this.v$.form.email.$dirty&&(!this.v$.form.email.required&&e.push(this.$i18n.t("this_field_is_required")),!this.v$.form.email.email&&e.push(this.$i18n.t("this_field_is_required_a_valid_email"))),e},passwordErrors(){const e=[];return this.v$.form.password.$dirty&&(!this.v$.form.password.required&&e.push(this.$i18n.t("this_field_is_required")),!this.v$.form.password.minLength&&e.push(this.$i18n.t("password_must_be_minimum_6_characters"))),e},confirmPasswordErrors(){const e=[];return this.v$.form.confirmPassword.$dirty&&(!this.v$.form.confirmPassword.required&&e.push(this.$i18n.t("this_field_is_required")),!this.v$.form.password.minLength&&e.push(this.$i18n.t("password_and_confirm_password_should_match"))),e},shopNameErrors(){const e=[];return this.v$.form.shopName.$dirty&&!this.v$.form.shopName.required&&e.push(this.$i18n.t("this_field_is_required")),e},shopPhoneErrors(){const e=[];return this.v$.form.shopPhone.$dirty&&!this.v$.form.shopPhone.required&&e.push(this.$i18n.t("this_field_is_required")),e},shopAddressErrors(){const e=[];return this.v$.form.shopAddress.$dirty&&!this.v$.form.shopAddress.required&&e.push(this.$i18n.t("this_field_is_required")),e}},async mounted(){if(this.generalSettings.google_recaptcha&&this.generalSettings.recaptcha_shop_register)try{await L(""),this.recaptchaReady=!0,console.log("reCAPTCHA ready!")}catch(e){console.error(e)}},beforeUnmount(){F()},methods:{...R("auth",["login"]),...g("cart",["removeTempUserId"]),...g("auth",["updateChatWindow","showLoginDialog"]),async register(){if(this.generalSettings.google_recaptcha&&this.generalSettings.recaptcha_shop_register){const h=await z("register-shop");if(!h.success){this.snack({message:h.message,color:"red"});return}}if(this.v$.$touch(),!await this.v$.$validate())return;this.form.phone=this.form.phone.replace(/\D/g,""),this.loading=!0;const s=await this.call_api("post","shop/register",this.form);s.data.success?(this.snack({color:"green",message:s.data.message}),this.$router.push({name:"ShopConfirmation"})):this.snack({message:s.data.message,color:"red"}),this.loading=!1},resetForm(){this.form.name="",this.form.phone="",this.form.email="",this.form.password="",this.form.confirmPassword="",this.form.shopName="",this.form.shopPhone="",this.form.shopAddress=""}}},M={class:"rounded border border-primary bg-soft-primary py-7 px-16 d-md-flex justify-space-between align-center mb-5"},G={class:"text-h5 fw-700 mb-5 mb-md-0"},H=["href"],W={class:"text-h3 fw-700 mb-8"},J={class:"text-h6 fw-600 opacity-80"},K={class:"mb-4"},O={class:"mb-1 fs-13 fw-500"},Q={class:"mb-4"},X={class:"mb-1 fs-13 fw-500"},Y={class:"mb-4"},Z={class:"fs-13 fw-500"},x={class:"mb-4"},ee={class:"mb-1 fs-13 fw-500"},se={class:"mb-4"},re={class:"mb-1 fs-13 fw-500"},oe={class:"text-h6 fw-600 opacity-80"},te={class:"mb-4"},ae={class:"mb-1 fs-13 fw-500"},ie={class:"mb-4"},ne={class:"mb-1 fs-13 fw-500"},de={class:"mb-4"},le={class:"mb-1 fs-13 fw-500"},me={class:"mb-4"};function he(e,s,h,pe,ue,d){const $=i("banner"),f=i("v-card-title"),l=i("v-text-field"),c=i("v-card-text"),w=i("v-divider"),b=i("router-link"),y=i("v-card"),V=i("v-btn"),q=i("v-form"),P=i("v-col"),E=i("v-row"),k=i("v-container");return p(),B(k,{class:"py-6"},{default:n(()=>[r("div",M,[r("h3",G,a(e.$t("already_a_seller")),1),r("a",{href:e.$store.getters["app/appUrl"]+"/login",class:"btn primary px-12 py-3 rounded white--text fs-16",target:"_blank"},a(e.$t("login")),9,H)]),t($,{loading:!1,banner:e.$store.getters["app/banners"].shop_registration_page,class:"mb-15"},null,8,["banner"]),t(E,null,{default:n(()=>[t(P,{cols:"12",lg:"6",md:"8",sm:"10",class:"mx-auto"},{default:n(()=>[r("h1",W,a(e.$t("register_your_shop")),1),t(q,{"lazy-validation":"",onSubmit:s[9]||(s[9]=D(o=>d.register(),["prevent"]))},{default:n(()=>[t(y,{class:"border",elevation:"0"},{default:n(()=>[t(f,null,{default:n(()=>[r("span",J,a(e.$t("personal_information")),1)]),_:1}),t(c,null,{default:n(()=>[r("div",K,[r("div",O,a(e.$t("full_name")),1),t(l,{variant:"plain",class:"text-field",placeholder:e.$t("full_name"),type:"text",modelValue:e.form.name,"onUpdate:modelValue":s[0]||(s[0]=o=>e.form.name=o),"error-messages":d.nameErrors,"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","error-messages"])]),r("div",Q,[r("div",X,a(e.$t("phone_number")),1),t(l,{variant:"plain",class:"text-field",placeholder:e.$t("phone_number"),type:"tel",modelValue:e.form.phone,"onUpdate:modelValue":s[1]||(s[1]=o=>e.form.phone=o),onInput:s[2]||(s[2]=o=>e.form.phone=e.form.phone.replace(/\D/g,"")),"hide-details":"auto",required:"",outlined:"",maxlength:"10"},null,8,["placeholder","modelValue"]),(p(!0),v(j,null,T(e.v$.form.phone.$errors,o=>(p(),v("p",{key:o.$uid,class:"text-red"},a(o.$message),1))),128))]),r("div",Y,[r("div",Z,a(e.$t("email_address")),1),t(l,{variant:"plain",class:"text-field",placeholder:e.$t("email_address"),type:"email",modelValue:e.form.email,"onUpdate:modelValue":s[3]||(s[3]=o=>e.form.email=o),"error-messages":d.emailErrors,"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","error-messages"])]),r("div",x,[r("div",ee,a(e.$t("password")),1),t(l,{variant:"plain",placeholder:"* * * * * * * *",modelValue:e.form.password,"onUpdate:modelValue":s[4]||(s[4]=o=>e.form.password=o),"error-messages":d.passwordErrors,type:"password",class:"input-group--focused text-field","hide-details":"auto",required:"",outlined:""},null,8,["modelValue","error-messages"])]),r("div",se,[r("div",re,a(e.$t("confirm_password")),1),t(l,{variant:"plain",placeholder:"* * * * * * * *",modelValue:e.form.confirmPassword,"onUpdate:modelValue":s[5]||(s[5]=o=>e.form.confirmPassword=o),"error-messages":d.confirmPasswordErrors,type:"password",class:"input-group--focused text-field","hide-details":"auto",required:"",outlined:""},null,8,["modelValue","error-messages"])])]),_:1}),t(w),t(f,null,{default:n(()=>[r("span",oe,a(e.$t("shop_information")),1)]),_:1}),t(c,null,{default:n(()=>[r("div",te,[r("div",ae,a(e.$t("shop_name")),1),t(l,{variant:"plain",class:"text-field",placeholder:e.$t("shop_name"),type:"text",modelValue:e.form.shopName,"onUpdate:modelValue":s[6]||(s[6]=o=>e.form.shopName=o),"error-messages":d.shopNameErrors,"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","error-messages"])]),r("div",ie,[r("div",ne,a(e.$t("shop_phone")),1),t(l,{variant:"plain",class:"text-field",placeholder:e.$t("shop_phone"),type:"number",modelValue:e.form.shopPhone,"onUpdate:modelValue":s[7]||(s[7]=o=>e.form.shopPhone=o),"error-messages":d.shopPhoneErrors,"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","error-messages"])]),r("div",de,[r("div",le,a(e.$t("shop_address")),1),t(l,{variant:"plain",class:"text-field",placeholder:e.$t("shop_address"),type:"text",modelValue:e.form.shopAddress,"onUpdate:modelValue":s[8]||(s[8]=o=>e.form.shopAddress=o),"error-messages":d.shopAddressErrors,"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","error-messages"])]),r("div",me,[u(a(e.$t("by_signing_up_you_agree_to_our"))+" ",1),t(b,{to:{name:"CustomPage",params:{pageSlug:"terms-and-conditions"}},class:"primary--text text-decoration-underline"},{default:n(()=>[u(a(e.$t("terms_and_conditions")),1)]),_:1})])]),_:1})]),_:1}),t(V,{"x-large":"",class:"px-12 mb-4 w-100 mt-5",elevation:"0",type:"submit",color:"primary",onClick:d.register,loading:e.loading,disabled:e.loading},{default:n(()=>[u(a(e.$t("register_shop")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})}const ce=A(I,[["render",he]]);export{ce as default};
