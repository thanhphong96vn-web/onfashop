import{_ as N,u as A,a as B,c as I,b as d,e as S,y as U,m as L,l as R,d as D,f as F,g as v,h as i,o as p,z as T,w as n,k as o,t as a,j as t,n as O,s as j,i as c,q as g,v as u}from"./app-d8a0357e.js";const{verifyRecaptcha:z}=A(),M={data:()=>({loading:!1,mobileInputProps:{inputOptions:{type:"tel",placeholder:"phone number"},dropdownOptions:{showDialCodeInSelection:!1,showFlags:!0,showDialCodeInList:!0},autoDefaultCountry:!1,validCharactersOnly:!0,mode:"international"},v$:B(),form:{name:"",phone:"",email:"",password:"",confirmPassword:"",invalidPhone:!0,showInvalidPhone:!1,shopName:"",shopPhone:"",shopAddress:""}}),components:{VueTelInput:I},validations:{form:{name:{required:d},email:{required:d,email:S},phone:{required:d},password:{required:d,minLength:U(6)},confirmPassword:{required:d},shopName:{required:d},shopPhone:{required:d},shopAddress:{required:d}}},computed:{...L("app",["generalSettings","availableCountries"]),nameErrors(){const e=[];return this.v$.form.name.$dirty&&!this.v$.form.name.required&&e.push(this.$i18n.t("this_field_is_required")),e},emailErrors(){const e=[];return this.v$.form.email.$dirty&&(!this.v$.form.email.required&&e.push(this.$i18n.t("this_field_is_required")),!this.v$.form.email.email&&e.push(this.$i18n.t("this_field_is_required_a_valid_email"))),e},passwordErrors(){const e=[];return this.v$.form.password.$dirty&&(!this.v$.form.password.required&&e.push(this.$i18n.t("this_field_is_required")),!this.v$.form.password.minLength&&e.push(this.$i18n.t("password_must_be_minimum_6_characters"))),e},confirmPasswordErrors(){const e=[];return this.v$.form.confirmPassword.$dirty&&(!this.v$.form.confirmPassword.required&&e.push(this.$i18n.t("this_field_is_required")),!this.v$.form.password.minLength&&e.push(this.$i18n.t("password_and_confirm_password_should_match"))),e},shopNameErrors(){const e=[];return this.v$.form.shopName.$dirty&&!this.v$.form.shopName.required&&e.push(this.$i18n.t("this_field_is_required")),e},shopPhoneErrors(){const e=[];return this.v$.form.shopPhone.$dirty&&!this.v$.form.shopPhone.required&&e.push(this.$i18n.t("this_field_is_required")),e},shopAddressErrors(){const e=[];return this.v$.form.shopAddress.$dirty&&!this.v$.form.shopAddress.required&&e.push(this.$i18n.t("this_field_is_required")),e}},async mounted(){if(this.generalSettings.google_recaptcha&&this.generalSettings.recaptcha_shop_register)try{await R(""),this.recaptchaReady=!0,console.log("reCAPTCHA ready!")}catch(e){console.error(e)}},beforeUnmount(){D()},methods:{...F("auth",["login"]),...v("cart",["removeTempUserId"]),...v("auth",["updateChatWindow","showLoginDialog"]),phoneValidate(e){this.form.invalidPhone=!e.valid,e.valid&&(this.form.showInvalidPhone=!1)},async register(){if(this.generalSettings.google_recaptcha&&this.generalSettings.recaptcha_shop_register){const h=await z("register-shop");if(!h.success){this.snack({message:h.message,color:"red"});return}}if(this.form.invalidPhone){this.form.showInvalidPhone=!0;return}if(!await this.v$.$validate())return;this.form.phone=this.form.phone.replace(/\s/g,""),this.loading=!0;const s=await this.call_api("post","shop/register",this.form);s.data.success?(this.snack({color:"green",message:s.data.message}),this.$router.push({name:"ShopConfirmation"})):this.snack({message:s.data.message,color:"red"}),this.loading=!1},resetForm(){this.form.name="",this.form.phone="",this.form.email="",this.form.password="",this.form.confirmPassword="",this.form.invalidPhone=!0,this.form.showInvalidPhone=!1,this.form.shopName="",this.form.shopPhone="",this.form.shopAddress=""}}},G={class:"rounded border border-primary bg-soft-primary py-7 px-16 d-md-flex justify-space-between align-center mb-5"},H={class:"text-h5 fw-700 mb-5 mb-md-0"},W=["href"],J={class:"text-h3 fw-700 mb-8"},K={class:"text-h6 fw-600 opacity-80"},Q={class:"mb-4"},X={class:"mb-1 fs-13 fw-500"},Y={class:"mb-4"},Z={class:"mb-1 fs-13 fw-500"},x={key:0,class:"v-text-field__details mt-2 pl-3"},ee={class:"v-messages theme--light error--text",role:"alert"},se={class:"v-messages__wrapper"},oe={class:"v-messages__message"},re={key:1,class:"v-text-field__details mt-2 pl-3"},te={class:"v-messages theme--light error--text",role:"alert"},ae={class:"v-messages__wrapper"},ie={class:"v-messages__message text-red"},ne={class:"mb-4"},le={class:"fs-13 fw-500"},de={class:"mb-4"},me={class:"mb-1 fs-13 fw-500"},he={class:"mb-4"},pe={class:"mb-1 fs-13 fw-500"},ue={class:"text-h6 fw-600 opacity-80"},fe={class:"mb-4"},_e={class:"mb-1 fs-13 fw-500"},ve={class:"mb-4"},ce={class:"mb-1 fs-13 fw-500"},ge={class:"mb-4"},$e={class:"mb-1 fs-13 fw-500"},we={class:"mb-4"};function be(e,s,h,ye,Pe,l){const $=i("banner"),f=i("v-card-title"),m=i("v-text-field"),w=i("vue-tel-input"),_=i("v-card-text"),b=i("v-divider"),y=i("router-link"),P=i("v-card"),V=i("v-btn"),q=i("v-form"),C=i("v-col"),E=i("v-row"),k=i("v-container");return p(),T(k,{class:"py-6"},{default:n(()=>[o("div",G,[o("h3",H,a(e.$t("already_a_seller")),1),o("a",{href:e.$store.getters["app/appUrl"]+"/login",class:"btn primary px-12 py-3 rounded white--text fs-16",target:"_blank"},a(e.$t("login")),9,W)]),t($,{loading:!1,banner:e.$store.getters["app/banners"].shop_registration_page,class:"mb-15"},null,8,["banner"]),t(E,null,{default:n(()=>[t(C,{cols:"12",lg:"6",md:"8",sm:"10",class:"mx-auto"},{default:n(()=>[o("h1",J,a(e.$t("register_your_shop")),1),t(q,{"lazy-validation":"",onSubmit:s[15]||(s[15]=O(r=>l.register(),["prevent"]))},{default:n(()=>[t(P,{class:"border",elevation:"0"},{default:n(()=>[t(f,null,{default:n(()=>[o("span",K,a(e.$t("personal_information")),1)]),_:1}),t(_,null,{default:n(()=>[o("div",Q,[o("div",X,a(e.$t("full_name")),1),t(m,{variant:"plain",class:"text-field",placeholder:e.$t("full_name"),type:"text",modelValue:e.form.name,"onUpdate:modelValue":s[0]||(s[0]=r=>e.form.name=r),"error-messages":l.nameErrors,onBlur:s[1]||(s[1]=r=>e.v$.form.name.$touch()),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","error-messages"])]),o("div",Y,[o("div",Z,a(e.$t("phone_number")),1),t(w,j({modelValue:e.form.phone,"onUpdate:modelValue":s[2]||(s[2]=r=>e.form.phone=r)},e.mobileInputProps,{onlyCountries:e.availableCountries,onValidate:l.phoneValidate}),{default:n(()=>[...s[16]||(s[16]=[o("template",{slot:"arrow-icon"},[o("span",{class:"vti__dropdown-arrow"}," ▼")],-1)])]),_:1},16,["modelValue","onlyCountries","onValidate"]),e.v$.form.phone.$error?(p(),c("div",x,[o("div",ee,[o("div",se,[o("div",oe,a(e.$t("this_field_is_required")),1)])])])):g("",!0),!e.v$.form.phone.$error&&e.form.showInvalidPhone?(p(),c("div",re,[o("div",te,[o("div",ae,[o("div",ie,a(e.$t("phone_number_must_be_valid")),1)])])])):g("",!0)]),o("div",ne,[o("div",le,a(e.$t("email_address")),1),t(m,{variant:"plain",class:"text-field",placeholder:e.$t("email_address"),type:"email",modelValue:e.form.email,"onUpdate:modelValue":s[3]||(s[3]=r=>e.form.email=r),"error-messages":l.emailErrors,onBlur:s[4]||(s[4]=r=>e.v$.form.email.$touch()),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","error-messages"])]),o("div",de,[o("div",me,a(e.$t("password")),1),t(m,{variant:"plain",placeholder:"* * * * * * * *",modelValue:e.form.password,"onUpdate:modelValue":s[5]||(s[5]=r=>e.form.password=r),"error-messages":l.passwordErrors,onBlur:s[6]||(s[6]=r=>e.v$.form.password.$touch()),type:"password",class:"input-group--focused text-field","hide-details":"auto",required:"",outlined:""},null,8,["modelValue","error-messages"])]),o("div",he,[o("div",pe,a(e.$t("confirm_password")),1),t(m,{variant:"plain",placeholder:"* * * * * * * *",modelValue:e.form.confirmPassword,"onUpdate:modelValue":s[7]||(s[7]=r=>e.form.confirmPassword=r),"error-messages":l.confirmPasswordErrors,onBlur:s[8]||(s[8]=r=>e.v$.form.confirmPassword.$touch()),type:"password",class:"input-group--focused text-field","hide-details":"auto",required:"",outlined:""},null,8,["modelValue","error-messages"])])]),_:1}),t(b),t(f,null,{default:n(()=>[o("span",ue,a(e.$t("shop_information")),1)]),_:1}),t(_,null,{default:n(()=>[o("div",fe,[o("div",_e,a(e.$t("shop_name")),1),t(m,{variant:"plain",class:"text-field",placeholder:e.$t("shop_name"),type:"text",modelValue:e.form.shopName,"onUpdate:modelValue":s[9]||(s[9]=r=>e.form.shopName=r),"error-messages":l.shopNameErrors,onBlur:s[10]||(s[10]=r=>e.v$.form.shopName.$touch()),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","error-messages"])]),o("div",ve,[o("div",ce,a(e.$t("shop_phone")),1),t(m,{variant:"plain",class:"text-field",placeholder:e.$t("shop_phone"),type:"number",modelValue:e.form.shopPhone,"onUpdate:modelValue":s[11]||(s[11]=r=>e.form.shopPhone=r),"error-messages":l.shopPhoneErrors,onBlur:s[12]||(s[12]=r=>e.v$.form.shopPhone.$touch()),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","error-messages"])]),o("div",ge,[o("div",$e,a(e.$t("shop_address")),1),t(m,{variant:"plain",class:"text-field",placeholder:e.$t("shop_address"),type:"text",modelValue:e.form.shopAddress,"onUpdate:modelValue":s[13]||(s[13]=r=>e.form.shopAddress=r),"error-messages":l.shopAddressErrors,onBlur:s[14]||(s[14]=r=>e.v$.form.shopAddress.$touch()),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","error-messages"])]),o("div",we,[u(a(e.$t("by_signing_up_you_agree_to_our"))+" ",1),t(y,{to:{name:"CustomPage",params:{pageSlug:"terms-and-conditions"}},class:"primary--text text-decoration-underline"},{default:n(()=>[u(a(e.$t("terms_and_conditions")),1)]),_:1})])]),_:1})]),_:1}),t(V,{"x-large":"",class:"px-12 mb-4 w-100 mt-5",elevation:"0",type:"submit",color:"primary",onClick:l.register,loading:e.loading,disabled:e.loading},{default:n(()=>[u(a(e.$t("register_shop")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})}const qe=N(M,[["render",be]]);export{qe as default};
