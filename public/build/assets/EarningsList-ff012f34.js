import{_ as t,h as a,o as e,i as s,k as i,t as n,j as l,w as r,v as o}from"./app-5a177a8d.js";const c={class:"ps-lg-7 pt-4"},d={class:"fs-24 fw-700 opacity-80 mb-5 mt-3"},g={class:"d-block fw-600"},m=["onClick"],p={class:"text-start"};const u=t({data:()=>({loading:!0,currentPage:1,lastPage:1,earningsList:[]}),computed:{headers(){return[{title:this.$i18n.t("code"),align:"start",sortable:!1,value:"code"},{title:this.$i18n.t("date"),sortable:!1,align:"start",value:"date"},{title:this.$i18n.t("amount"),sortable:!1,align:"start",value:"amount"},{title:this.$i18n.t("options"),sortable:!1,align:"center",value:"options"}]}},methods:{async getEarningsList(t){this.loading=!0;const a=await this.call_api("get",`delivery-boy/earnings-list?page=${t}`);200==a.status?(this.earningsList=a.data.data,this.lastPage=a.data.meta.last_page,this.currentPage=a.data.meta.current_page):this.snack({message:this.$i18n.t("something_went_wrong"),color:"red"}),this.loading=!1},openOrderDetails(t){this.$router.push({name:"DeliveryboyOrderDetails",params:{code:t}})}},created(){let t=this.$route.query.page||this.currentPage;this.getEarningsList(t)}},[["render",function(t,u,h,v,b,f){const y=a("v-btn"),_=a("v-data-table"),$=a("v-pagination");return e(),s("div",c,[i("h1",d,n(t.$t("earning_history")),1),i("div",null,[l(_,{headers:f.headers,items:t.earningsList,class:"border px-4 pt-3","hide-default-footer":"","item-class":"c-pointer"},{"item.code":r(({item:t})=>[l(y,{onClick:a=>f.openOrderDetails(t.code),variant:"flat",class:"px-2 text-primary"},{default:r(()=>[o(n(t.code),1)]),_:2},1032,["onClick"])]),"item.amount":r(({item:a})=>[i("span",g,n(t.format_price(a.amount)),1)]),"item.options":r(({item:t})=>[i("a",{onClick:a=>f.openOrderDetails(t.code),small:"",class:"px-2 btn btn-soft-info btn-icon btn-circle btn-sm hov-svg-white"},[...u[1]||(u[1]=[i("i",{class:"las la-bars"},null,-1)])],8,m)]),_:2},1032,["headers","items"])]),i("div",p,[l($,{modelValue:t.currentPage,"onUpdate:modelValue":[u[0]||(u[0]=a=>t.currentPage=a),f.getEarningsList],length:t.lastPage,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","onUpdate:modelValue","length"])])])}]]);export{u as default};
