import{_ as t,h as a,o as e,i as s,k as i,t as l,j as o,w as n,q as r,A as d,v as c}from"./app-5a177a8d.js";const g={class:"ps-lg-7 pt-4"},u={class:"fs-24 fw-700 opacity-80 mb-5 mt-3"},m={class:"d-block fw-600"},h=["src"],p={key:0,class:"text-start"};const v=t({data:()=>({loading:!0,currentPage:1,totalPages:1,products:[]}),computed:{headers(){return[{title:this.$i18n.t("product"),align:"start",sortable:!1,value:"name"},{title:this.$i18n.t("image"),align:"start",sortable:!1,value:"image"},{title:this.$i18n.t("actions"),sortable:!1,align:"end",value:"actions"}]}},watch:{currentPage(){this.$router.push({query:{...this.$route.query,page:this.currentPage}}).catch(()=>{})}},methods:{async getList(t){this.loading=!0;const a=await this.call_api("get",`user/orders/downloads?page=${t}`);a.data.success?(this.products=a.data.data,this.totalPages=a.data.meta.last_page,this.currentPage=a.data.meta.current_page):this.snack({message:this.$i18n.t("something_went_wrong"),color:"red"}),this.loading=!1},async downloadProduct(t){const a=t.file_path,e=document.createElement("a");e.href=a,e.download=t.name,e.click()}},created(){let t=this.$route.query.page||this.currentPage;this.getList(t)}},[["render",function(t,v,_,w,f,P){const x=a("v-btn"),$=a("v-data-table"),b=a("v-pagination");return e(),s("div",g,[i("h1",u,l(t.$t("download_your_products")),1),i("div",null,[o($,{headers:P.headers,items:t.products,class:"border px-4 pt-3","loading-text":t.$t("loading_please_wait"),"no-data-text":t.$t("no_data_available")||"Không có dữ liệu","hide-default-footer":"",loading:t.loading,"item-class":"c-pointer"},{"item.name":n(({item:t})=>[i("span",m,l(t.name),1)]),"item.image":n(({item:t})=>[i("img",{src:t.image,class:d(["img-fit","size-80px"])},null,8,h)]),"item.actions":n(({item:a})=>[o(x,{onClick:t=>P.downloadProduct(a),text:"",size:"small",elevation:"0",class:"px-2 text-primary"},{default:n(()=>[c(l(t.$t("download")),1)]),_:2},1032,["onClick"])]),_:2},1032,["headers","items","loading-text","no-data-text","loading"]),t.totalPages>1?(e(),s("div",p,[o(b,{modelValue:t.currentPage,"onUpdate:modelValue":[v[0]||(v[0]=a=>t.currentPage=a),P.getList],length:t.totalPages,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","onUpdate:modelValue","length"])])):r("",!0)])])}]]);export{v as default};
