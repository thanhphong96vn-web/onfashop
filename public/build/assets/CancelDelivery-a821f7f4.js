import{_ as e,h as t,o as a,i as s,k as i,t as l,j as r,w as n,v as o}from"./app-0e743bd7.js";const d={class:"ps-lg-7 pt-4"},c={class:"fs-24 fw-700 opacity-80 mb-5 mt-3"},g={class:"d-block fw-600"},u=["onClick"],m={class:"text-start"};const p=e({data:()=>({loading:!0,currentPage:1,lastPage:1,cancelDeliveries:[]}),computed:{headers(){return[{title:this.$i18n.t("code"),align:"start",sortable:!1,value:"combined_order.code"},{title:this.$i18n.t("date"),sortable:!1,align:"start",value:"delivery_history_date"},{title:this.$i18n.t("amount"),sortable:!1,align:"start",value:"grand_total"},{title:this.$i18n.t("delivery_status"),sortable:!1,align:"start",value:"delivery_status"},{title:this.$i18n.t("payment_status"),sortable:!1,align:"start",value:"payment_status"},{title:this.$i18n.t("options"),sortable:!1,align:"center",value:"options"}]}},methods:{async getCancelDeliveries(e){this.loading=!0;const t=await this.call_api("get",`delivery-boy/cancel-deliveries?page=${e}`);200==t.status?(this.cancelDeliveries=t.data.data.data,this.lastPage=t.data.data.last_page,this.currentPage=t.data.data.current_page):this.snack({message:this.$i18n.t("something_went_wrong"),color:"red"}),this.loading=!1},openOrderDetails(e){this.$router.push({name:"DeliveryboyOrderDetails",params:{code:e.code}})}},created(){let e=this.$route.query.page||this.currentPage;this.getCancelDeliveries(e)}},[["render",function(e,p,h,v,b,_){const y=t("v-btn"),f=t("v-data-table"),D=t("v-pagination");return a(),s("div",d,[i("h1",c,l(e.$t("cancelled_delivery")),1),i("div",null,[r(f,{headers:_.headers,items:e.cancelDeliveries,class:"border px-4 pt-3","hide-default-footer":"","item-class":"c-pointer"},{"item.combined_order.code":n(({item:e})=>[r(y,{onClick:t=>_.openOrderDetails(e.combined_order),variant:"flat",class:"px-2 text-primary"},{default:n(()=>[o(l(e.combined_order.code),1)]),_:2},1032,["onClick"])]),"item.grand_total":n(({item:t})=>[i("span",g,l(e.format_price(t.grand_total)),1)]),"item.options":n(({item:e})=>[i("a",{onClick:t=>_.openOrderDetails(e.combined_order),class:"px-2 btn btn-soft-info btn-icon btn-circle btn-sm hov-svg-white"},[...p[1]||(p[1]=[i("i",{class:"las la-bars"},null,-1)])],8,u)]),_:2},1032,["headers","items"])]),i("div",m,[r(D,{modelValue:e.currentPage,"onUpdate:modelValue":[p[0]||(p[0]=t=>e.currentPage=t),_.getCancelDeliveries],length:e.lastPage,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","onUpdate:modelValue","length"])])])}]]);export{p as default};
