import{G as e,_ as s,m as t,f as a,g as l,h as i,o as d,z as o,w as r,j as c,k as n,t as p,i as u,q as h,B as m,E as y,v as g,C as _,F as f,p as v,n as k,A as b,D as w}from"./app-0e743bd7.js";import{A as x}from"./AddressDialog-00540a16.js";import{C}from"./CouponForm-1edabd74.js";import{R as P}from"./RechargeDialog-db88d5f0.js";import{F as $}from"./FailedDialog-ed69e0fd.js";import{P as D}from"./Payment-03168abe.js";e.forEach(e=>{"init"!==e&&(e=e.replace("_",""))}),"undefined"!=typeof window&&(window.SwiperElementRegisterParams=s=>{e.push(...s)});const S={head:{title:"Checkout Page"},name:"AizShopCheckout",components:{},data:()=>({for_pickup:!0,selectedPickupPoint:null,checkbox:!1,create_account:!1,user:{name:null,nameError:null,email:null,emailError:null,phone:null,phoneError:null,password:null,confirm_password:null,passwordError:null,password_confirm_Error:null,password_Ok:!1},registerEmails:[],checkoutLoading:!1,selectedShippingAddressId:null,selectedBillingAddressId:null,selectedPaymentMethod:null,selectedDeliveryOption:"",selectedDeliveryType:"",standardDeliveryCost:0,expressDeliveryCost:0,addDialogShow:!1,addressSelectedForEdit:{},rechargeDialogShow:!1,transactionId:null,receipt:null,authorizeNet:{card_number:"",cvv:"",expiration_month:"",expiration_year:""},months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateloop:[]}),components:{AddressDialog:x,RechargeDialog:P,Payment:D,FailedDialog:$,CouponForm:C},computed:{...t("app",["generalSettings","appUrl","paymentMethods","offlinePaymentMethods","demoMode"]),...t("address",["getAddresses","getDefaultShippingAddress","getDefaultBillingAddress"]),...t("cart",["getCartPrice","getTotalCouponDiscount","getCartClubPoints","getCartTax","getCartShops","getStandardTime","getExpressTime","getAllCouponCodes","getSelectedCartIds","checkShopMinOrder","getIsDigital","getIsPickup","getPickupPoints","getCartProducts"]),...t("auth",["currentUser"]),totalPrice(){return"home_delivery"==this.selectedDeliveryType?"standard"===this.selectedDeliveryOption?this.getCartPrice-this.getTotalCouponDiscount+this.standardDeliveryCost*this.getCartShops.length:this.getCartPrice-this.getTotalCouponDiscount+this.expressDeliveryCost*this.getCartShops.length:this.getCartPrice-this.getTotalCouponDiscount}},methods:{...a("cart",["resetCoupon","removeMultipleFromCart","fetchCartProducts","fetchPickupPoints"]),...a("address",["fetchAddresses"]),...a("auth",["rechargeWallet","deductFromWallet"]),...l("address",["clearAddresses"]),checkEmail(){const e=this.user.email.trim().toLowerCase();this.registerEmails.includes(e)?this.user.emailError="This email already has an account. Please log in.":this.user.emailError=""},password_validate(){const e=this.user.password.length;this.user.passwordError=e<6?"Password atletst 6 character":""},passwordConfirm(){this.user.confirm_password!==this.user.password?(this.user.password_Ok=!0,this.user.password_confirm_Error="Password not match!"):this.user.password_confirm_Error=""},async checkForPickUp(e){this.getCartProducts.map(e=>{if(0==e.for_pickup)return this.selectedPickupPoint=null,this.for_pickup=!1,void this.snack({message:"One or more items in the cart are not available for pickup",color:"red"});this.for_pickup=!0}),this.selectedDeliveryType=e},ChooseDeleviryType(e){this.selectedDeliveryType=e},addressDialogClosed(){this.addressSelectedForEdit={},this.addDialogShow=!1,1==this.getAddresses.length&&(this.selectedShippingAddressId=this.getAddresses[0].id,this.selectedBillingAddressId=this.getAddresses[0].id,this.getShippingCost(this.getAddresses[0].id))},editAddress(e){this.addressSelectedForEdit=e,this.addDialogShow=!0},rechargeDialogClosed(){this.rechargeDialogShow=!1},paymentSelected(e,s){this.selectedPaymentMethod=s},walletSelected(){this.currentUser.balance>=this.totalPrice?this.selectedPaymentMethod={code:"wallet"}:this.snack({message:"You don't have enough wallet balance. Please recharge.",color:"red"})},shippingAddressSelected(e){this.selectedBillingAddressId=e,this.getShippingCost(e)},async getShippingCost(e){const s=await this.call_api("get",`checkout/get-shipping-cost/${e}`);this.selectedDeliveryOption=s.data.success?"standard":"",this.standardDeliveryCost=parseFloat(s.data.standard_delivery_cost),this.expressDeliveryCost=parseFloat(s.data.express_delivery_cost)},async loadRegisteredEmails(){const e=await this.call_api("get","customer-email");e.data.success&&(this.registerEmails=Array.isArray(e.data.data)?e.data.data:[])},async proceedCheckout(){if(this.demoMode)return void this.snack({message:"Data chaning action is not allowed in demo mode.",color:"red"});if(this.create_account&&!this.user.password_Ok)return void this.snack({message:"Add your Password correctly!",color:"red"});if(!this.user.name)return this.user.nameError=this.$t("your_name_is_missing"),void this.snack({message:this.$t("your_name_is_missing"),color:"red"});if(this.user.nameError="",!this.user.phone)return this.user.phoneError=this.$t("your_phone_number_is_missing"),void this.snack({message:this.$t("your_phone_number_is_missing"),color:"red"});if(!/^\d{10,15}$/.test(this.user.phone))return this.user.phoneError=this.$t("please_enter_a_valid_phone_number"),void this.snack({message:this.$t("please_enter_a_valid_phone_number"),color:"red"});if(this.user.phoneError="",!this.user.email)return this.user.emailError=this.$t("your_email_is_missing"),void this.snack({message:this.$t("your_email_is_missing"),color:"red"});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.user.email))return this.user.emailError=this.$t("please_enter_a_valid_email_address"),void this.snack({message:this.$t("please_enter_a_valid_email_address"),color:"red"});if(this.user.emailError="",!this.checkbox)return void this.snack({message:"You need to agree with our policies",color:"red"});if(0==this.getSelectedCartIds.length)return void this.snack({message:"Please select a cart product",color:"red"});if("home_delivery"==this.selectedDeliveryType&&0==this.getAddresses.length)return void this.snack({message:"Please add a delivery address",color:"red"});if("home_delivery"===this.selectedDeliveryType&&!this.selectedShippingAddressId)return void this.snack({message:"Please select a delivery address",color:"red"});if(!this.selectedBillingAddressId&&this.selectedShippingAddressId&&(this.selectedBillingAddressId=this.selectedShippingAddressId),""===this.selectedDeliveryType)return void this.snack({message:"Please select delivery type at first",color:"red"});if("pickup"===this.selectedDeliveryType&&0==this.for_pickup)return void this.snack({message:"One or more items in the cart are not available for pickup",color:"red"});if("pickup"===this.selectedDeliveryType&&null==this.selectedPickupPoint)return void this.snack({message:"Please select a pick up point",color:"red"});if(!this.selectedPaymentMethod)return void this.snack({message:"Please select a payment method",color:"red"});if(this.selectedPaymentMethod&&this.selectedPaymentMethod.code.includes("offline_payment")&&null===this.transactionId)return void this.snack({message:this.$i18n.t("please_input_transaction_id"),color:"red"});if(!this.checkShopMinOrder.success)return void this.snack({message:this.checkShopMinOrder.message,color:"red"});let e=new FormData;if(e.append("name",this.user.name),e.append("phone",this.user.phone),e.append("email",this.user.email),e.append("create_account",this.create_account),e.append("password",this.user.password),e.append("confirm_password",this.user.confirm_password),e.append("shipping_address_id",this.selectedShippingAddressId),e.append("billing_address_id",this.selectedBillingAddressId),e.append("payment_type",this.selectedPaymentMethod.code),e.append("delivery_type",this.selectedDeliveryOption),e.append("type_of_delivery",this.selectedDeliveryType),e.append("pickup_point_id",this.selectedPickupPoint),this.getSelectedCartIds.forEach((s,t)=>{e.append("cart_item_ids[]",s)}),this.getAllCouponCodes.forEach((s,t)=>{e.append("coupon_codes[]",s)}),e.append("transactionId",this.transactionId),e.append("receipt",this.receipt),this.getCartPrice>0){this.checkoutLoading=!0;const s=await this.call_api("post","checkout/guest/order/store",e,!0);s.data.success?(this.clearAddresses(),this.create_account&&localStorage.removeItem("shopTempUserId"),s.data.go_to_payment?this.$refs.makePayment.pay({requestedFrom:"/checkout",paymentAmount:0,paymentMethod:s.data.payment_method,paymentType:"cart_payment",userId:this.currentUser.id,oderCode:s.data.order_code,card_number:this.authorizeNet.card_number,cvv:this.authorizeNet.cvv,expiration_month:this.authorizeNet.expiration_month,expiration_year:this.authorizeNet.expiration_year}):(this.create_account?this.snack({message:"Your account has been created successfully. You can now log in with your credentials",color:"green"}):this.snack({message:s.data.message,color:"green"}),setTimeout(()=>{this.$router.push({name:"OrderConfirmed",query:{orderCode:s.data.order_code}}).catch(()=>{})},4e3)),setTimeout(()=>{this.resetCoupon(),this.removeMultipleFromCart(this.getSelectedCartIds)},2e3)):this.snack({message:s.data.message,color:"red"}),this.checkoutLoading=!1}}},async created(){await this.fetchPickupPoints(),await this.fetchAddresses(),this.selectedShippingAddressId=this.getDefaultShippingAddress.id,this.selectedBillingAddressId=this.getDefaultShippingAddress.id,this.getShippingCost(this.selectedShippingAddressId);let e=[],s=(new Date).getFullYear();for(;s<=(new Date).getFullYear()+15;s++)e.push(s);this.dateLoop=e},mounted(){this.loadRegisteredEmails(),this.$route.query.cart_payment&&this.$route.query.order_code&&("success"==this.$route.query.cart_payment?(this.$router.push({name:"OrderConfirmed",query:{orderCode:this.$route.query.order_code}}).catch(()=>{}),this.snack({message:"Payment successful!"})):"failed"==this.$route.query.cart_payment&&this.$refs.failedPayment.open({orderCode:this.$route.query.order_code,paymentMethod:this.$route.query.payment_method})),this.rechargeWallet(this.$route.query.wallet_payment),this.fetchCartProducts()}},A={class:"fs-24 fw-700 opacity-80 mb-4"},z={class:"mb-4"},E={class:"guest-user-info mb-3"},I={class:"opacity-80 mb-4 fs-20"},V={class:""},M={class:"mb-1 fw-500 opacity-80 grey lighten-5"},T={key:0,class:"text-red"},U={class:""},F={class:"mb-1 fw-500 opacity-80"},q={key:0,class:"text-red"},O={class:""},N={class:"mb-1 fw-500 opacity-80"},B={key:0,class:"text-red"},L={key:0,class:"w-100"},Y={class:""},j={class:"mb-1 fw-500 opacity-80"},R={key:0,class:"text-red"},J={class:"mb-3"},W={class:"mb-1 fw-500 opacity-80"},G={key:0,class:"text-red"},H={class:"delivery-type"},K={class:"opacity-80 mb-3 fs-20"},Q={class:"position-relative mb-3"},X={class:"aiz-megabox d-block"},Z={class:"d-flex pa-3 aiz-megabox-elem fs-13"},ee={class:"flex-grow-1 ps-3 lh-1-5"},se={class:"d-block fw-600"},te={class:"position-relative mb-3"},ae={class:"aiz-megabox d-block"},le={class:"d-flex pa-3 aiz-megabox-elem fs-13"},ie={class:"flex-grow-1 ps-3 lh-1-5"},de={class:"d-block fw-600"},oe={key:0,class:"position-relative my-3"},re={key:0,class:"aiz-megabox d-block"},ce={class:"opacity-80 mb-3 fs-20"},ne={class:"mb-4"},pe={class:"aiz-megabox d-block"},ue=["value","checked"],he={class:"d-flex pa-3 aiz-megabox-elem fs-13 fw-600"},me={class:"flex-grow-1 ps-3 opacity-80 lh-1-5"},ye={class:"d-block"},ge={class:"d-block"},_e={key:0},fe={class:"opacity-80 mb-3 fs-20"},ve={class:"mb-4"},ke={class:"aiz-megabox d-block"},be=["value","checked","onChange"],we={class:"d-flex pa-3 aiz-megabox-elem fs-13 fw-600"},xe={class:"flex-grow-1 ps-3 opacity-80 lh-1-5"},Ce={class:"d-block"},Pe={class:"d-block"},$e=["value","checked"],De={key:1,class:"delivery-option"},Se={class:"position-relative mb-3"},Ae={class:"aiz-megabox d-block"},ze={class:"d-flex pa-3 aiz-megabox-elem fs-13"},Ee={class:"flex-grow-1 ps-3 lh-1-5"},Ie={class:"d-block fw-600"},Ve={class:"d-block"},Me={class:"fw-600"},Te={key:0},Ue={class:"d-block"},Fe={class:"fw-600"},qe={class:"position-relative mb-3"},Oe={class:"aiz-megabox d-block"},Ne={class:"d-flex pa-3 aiz-megabox-elem fs-13"},Be={class:"flex-grow-1 ps-3 lh-1-5"},Le={class:"d-block fw-600"},Ye={class:"d-block"},je={class:"fw-600"},Re={key:0},Je={class:"d-block"},We={class:"fw-600"},Ge={class:"mb-4"},He={class:"opacity-80 mb-3 fs-20"},Ke={class:"mb-4"},Qe={key:0,class:"bg-soft-primary text-reset px-6 rounded-sm"},Xe={class:"border border-gray-200 rounded px-6 py-5 grey lighten-5"},Ze={class:"mb-4"},es={class:"opacity-80 mb-3 fs-20"},ss={key:0,class:"aiz-megabox d-block"},ts=["checked","onChange"],as={class:"d-block pa-3 aiz-megabox-elem text-center"},ls=["src"],is={class:"fw-700 fs-14"},ds={key:1,class:"aiz-megabox d-block"},os=["checked","onChange"],rs={class:"d-block pa-3 aiz-megabox-elem text-center"},cs=["src"],ns={class:"fw-700 fs-14"},ps={class:"aiz-megabox d-block"},us=["checked","onChange"],hs={class:"d-block pa-3 aiz-megabox-elem text-center"},ms=["src"],ys={class:"fw-700 fs-13"},gs={key:0,class:"my-3"},_s={class:"opacity-80 mb-3 fs-18 text-capitalize"},fs={class:"border px-2 py-2"},vs={key:1,class:"my-3"},ks={class:"opacity-80 mb-3 fs-18 text-capitalize"},bs={class:"border px-2 py-2"},ws={class:"text-capitalize my-1"},xs={class:"font-weight-bold"},Cs={class:"text-capitalize my-1"},Ps={class:"font-weight-bold"},$s={key:0,class:"text-capitalize d-flex my-1"},Ds={class:"font-weight-bold me-1"},Ss=["innerHTML"],As={key:1,class:"text-capitalize"},zs={class:"font-weight-bold"},Es={key:2},Is={class:"my-8"},Vs={class:""},Ms={class:"border-start border-gray-400 ps-5 ms-5"};const Ts=s(S,[["render",function(e,s,t,a,l,x){const C=i("v-text-field"),P=i("v-col"),$=i("v-expand-transition"),D=i("v-row"),S=i("address-dialog"),Ts=i("v-btn"),Us=i("v-autocomplete"),Fs=i("v-divider"),qs=i("banner"),Os=i("v-file-input"),Ns=i("router-link"),Bs=i("Payment"),Ls=i("FailedDialog"),Ys=i("v-progress-circular"),js=i("v-overlay"),Rs=i("v-container");return d(),o(Rs,{class:"pt-7"},{default:r(()=>[c(D,null,{default:r(()=>[c(P,{xl:"8",lg:"10",class:"mx-auto"},{default:r(()=>[n("h1",A,p(e.$t("Guest checkout")),1),n("div",z,[n("div",null,[n("div",E,[n("h3",I,p(e.$t("Customer Information")),1),c(D,null,{default:r(()=>[c(P,{cols:"12",class:"px-3 py-0 pb-3 grey lighten-5"},{default:r(()=>[n("div",V,[n("div",M,p(e.$t("Name")),1),c(C,{variant:"plain",class:"text-field-customer",placeholder:e.$t("Your name"),type:"text",modelValue:l.user.name,"onUpdate:modelValue":s[0]||(s[0]=e=>l.user.name=e),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),l.user.nameError?(d(),u("p",T,p(l.user.nameError),1)):h("",!0)])]),_:1}),c(P,{cols:"12",class:"px-3 py-0 pb-3"},{default:r(()=>[n("div",U,[n("div",F,p(e.$t("Phone")),1),c(C,{variant:"plain",class:"text-field-customer",placeholder:e.$t("+84 922 156755"),type:"text",modelValue:l.user.phone,"onUpdate:modelValue":s[1]||(s[1]=e=>l.user.phone=e),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),l.user.phoneError?(d(),u("p",q,p(l.user.phoneError),1)):h("",!0)])]),_:1}),c(P,{cols:"12",class:"px-3 py-0 pb-3"},{default:r(()=>[n("div",O,[n("div",N,p(e.$t("Email")),1),c(C,{variant:"plain",class:"text-field-customer",placeholder:e.$t("Your mail address"),type:"text",modelValue:l.user.email,"onUpdate:modelValue":s[2]||(s[2]=e=>l.user.email=e),onInput:x.checkEmail,"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","onInput"]),l.user.emailError?(d(),u("p",B,p(l.user.emailError),1)):h("",!0)])]),_:1}),c(P,{cols:"12",class:"px-3 py-0 pb-3"},{default:r(()=>[n("div",null,[m(n("input",{class:"m-2 fw-500 opacity-80 p-2 grey",type:"checkbox",id:"newAccount","onUpdate:modelValue":s[3]||(s[3]=e=>l.create_account=e)},null,512),[[y,l.create_account]]),g(" "+p(e.$t("I want to create my account.")),1)])]),_:1}),c($,null,{default:r(()=>[l.create_account?(d(),u("div",L,[c(P,{cols:"12 ",class:"px-3 py-0 pb-3"},{default:r(()=>[n("div",Y,[n("div",j,p(e.$t("Password")),1),c(C,{variant:"plain",class:"text-field-customer",placeholder:e.$t("********"),type:"password",modelValue:l.user.password,"onUpdate:modelValue":s[4]||(s[4]=e=>l.user.password=e),"hide-details":"auto",onInput:x.password_validate,required:"",outlined:""},null,8,["placeholder","modelValue","onInput"]),l.user.passwordError?(d(),u("p",R,p(l.user.passwordError),1)):h("",!0)])]),_:1}),c(P,{cols:"12",class:"px-3 py-0 pb-3"},{default:r(()=>[n("div",J,[n("div",W,p(e.$t("Confirm password")),1),c(C,{variant:"plain",class:"text-field-customer",placeholder:e.$t("********"),type:"password",modelValue:l.user.confirm_password,"onUpdate:modelValue":s[5]||(s[5]=e=>l.user.confirm_password=e),onInput:x.passwordConfirm,"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","onInput"]),l.user.password_confirm_Error?(d(),u("p",G,p(l.user.password_confirm_Error),1)):h("",!0)])]),_:1})])):h("",!0)]),_:1})]),_:1})]),n("div",H,[n("h3",K,p(e.$t("delivery_type")),1),c(D,null,{default:r(()=>[c(P,{cols:"12",sm:"6"},{default:r(()=>[n("div",Q,[n("label",X,[m(n("input",{type:"radio",name:"delivery_type","onUpdate:modelValue":s[6]||(s[6]=e=>l.selectedDeliveryType=e),value:"home_delivery",onClick:s[7]||(s[7]=e=>x.ChooseDeleviryType("home_delivery"))},null,512),[[_,l.selectedDeliveryType]]),n("span",Z,[s[25]||(s[25]=n("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),n("span",ee,[n("span",se,p(e.$t("home_delivery")),1)])])])])]),_:1}),e.getIsPickup&&e.generalSettings.pickup_point?(d(),o(P,{key:0,cols:"12",sm:"6"},{default:r(()=>[n("div",te,[n("label",ae,[m(n("input",{type:"radio",name:"delivery_type","onUpdate:modelValue":s[8]||(s[8]=e=>l.selectedDeliveryType=e),value:"pickup",onClick:s[9]||(s[9]=e=>x.checkForPickUp("pickup"))},null,512),[[_,l.selectedDeliveryType]]),n("span",le,[s[26]||(s[26]=n("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),n("span",ie,[n("span",de,p(e.$t("pickup")),1)])])])])]),_:1})):h("",!0)]),_:1}),e.generalSettings.pickup_point&&"pickup"==l.selectedDeliveryType?(d(),u("div",oe,[l.for_pickup?(d(),u("label",re,[c(S,{show:l.addDialogShow,onClose:x.addressDialogClosed,"old-address":l.addressSelectedForEdit},null,8,["show","onClose","old-address"]),n("h3",ce,p(e.$t("billing_address")),1),n("div",ne,[(d(!0),u(f,null,v(e.getAddresses,t=>(d(),u("div",{class:"position-relative mb-3",key:t.id},[n("label",pe,[m(n("input",{type:"radio",name:"checkout_billing","onUpdate:modelValue":s[10]||(s[10]=e=>l.selectedBillingAddressId=e),value:t.id,checked:t.default_billing},null,8,ue),[[_,l.selectedBillingAddressId]]),n("span",he,[s[27]||(s[27]=n("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),n("span",me,[n("span",ye,p(t.address)+", "+p(t.postal_code),1),n("span",ge,p(t.city)+", "+p(t.state)+", "+p(t.country),1),n("span",null,p(t.phone),1)])])]),c(Ts,{class:"absolute-right-center me-3",color:"primary",elevation:"0",small:"",onClick:e=>x.editAddress(t)},{default:r(()=>[g(p(e.$t("change")),1)]),_:2},1032,["onClick"])]))),128)),c(Ts,{class:"border-dashed border-gray-300 primary--text fs-14",elevation:"0",block:"","x-large":"",onClick:s[11]||(s[11]=k(e=>l.addDialogShow=!0,["stop"]))},{default:r(()=>[s[28]||(s[28]=n("i",{class:"las la-plus"},null,-1)),n("span",null,p(e.$t("add_new_address")),1)]),_:1})]),c(Us,{modelValue:l.selectedPickupPoint,"onUpdate:modelValue":s[12]||(s[12]=e=>l.selectedPickupPoint=e),items:e.getPickupPoints,label:e.$t("select_pickup_point"),"hide-details":"auto",variant:"outlined","item-title":"name","item-value":"id",dense:"",autocomplete:"off",class:""},null,8,["modelValue","items","label"])])):h("",!0)])):h("",!0)]),"home_delivery"==l.selectedDeliveryType?(d(),u("div",_e,[c(S,{show:l.addDialogShow,onClose:x.addressDialogClosed,"old-address":l.addressSelectedForEdit},null,8,["show","onClose","old-address"]),n("h3",fe,p(e.$t("shipping_address")),1),n("div",ve,[(d(!0),u(f,null,v(e.getAddresses,t=>(d(),u("div",{class:"position-relative mb-3",key:t.id},[n("label",ke,[m(n("input",{type:"radio",name:"checkout_shipping","onUpdate:modelValue":s[13]||(s[13]=e=>l.selectedShippingAddressId=e),value:t.id,checked:t.default_shipping,onChange:e=>x.shippingAddressSelected(t.id)},null,40,be),[[_,l.selectedShippingAddressId]]),n("span",we,[s[29]||(s[29]=n("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),n("span",xe,[n("span",Ce,p(t.address)+", "+p(t.postal_code),1),n("span",Pe,p(t.city)+", "+p(t.state)+", "+p(t.country),1),n("span",null,p(t.phone),1)])])]),c(Ts,{class:"absolute-right-center me-3",color:"primary",elevation:"0",small:"",onClick:e=>x.editAddress(t)},{default:r(()=>[g(p(e.$t("change")),1)]),_:2},1032,["onClick"])]))),128)),c(Ts,{class:"border-dashed border-gray-300 primary--text fs-14",elevation:"0",block:"","x-large":"",onClick:s[14]||(s[14]=k(e=>l.addDialogShow=!0,["stop"]))},{default:r(()=>[s[30]||(s[30]=n("i",{class:"las la-plus"},null,-1)),n("span",null,p(e.$t("add_new_address")),1)]),_:1})]),m(n("div",null,[(d(!0),u(f,null,v(e.getAddresses,e=>(d(),u("div",{key:"billing-"+e.id},[n("label",null,[m(n("input",{type:"radio",name:"checkout_billing","onUpdate:modelValue":s[15]||(s[15]=e=>l.selectedBillingAddressId=e),value:e.id,checked:e.default_billing},null,8,$e),[[_,l.selectedBillingAddressId]])])]))),128))],512),[[w,!1]])])):h("",!0),"home_delivery"==l.selectedDeliveryType?(d(),u("div",De,[""!==l.selectedDeliveryOption?(d(),o(D,{key:0},{default:r(()=>[c(P,{cols:"12",sm:"6"},{default:r(()=>[n("div",Se,[n("label",Ae,[m(n("input",{type:"radio",name:"delivery_option","onUpdate:modelValue":s[16]||(s[16]=e=>l.selectedDeliveryOption=e),value:"standard"},null,512),[[_,l.selectedDeliveryOption]]),n("span",ze,[s[31]||(s[31]=n("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),n("span",Ee,[n("span",Ie,p(e.$t("standard_delivery")),1),n("span",Ve,[g(p(e.$t("delivery_cost"))+": ",1),n("span",Me,p(e.format_price(l.standardDeliveryCost)),1),e.is_addon_activated("multi_vendor")?(d(),u("span",Te,"/"+p(e.$t("shop")),1)):h("",!0)]),n("span",Ue,[g(p(e.$t("delivery_timing"))+": ",1),n("span",Fe,p(e.getStandardTime)+" "+p(e.$t("days")),1)])])])])])]),_:1}),e.generalSettings.express_delivery_option?(d(),o(P,{key:0,cols:"12",sm:"6"},{default:r(()=>[n("div",qe,[n("label",Oe,[m(n("input",{type:"radio",name:"delivery_option","onUpdate:modelValue":s[17]||(s[17]=e=>l.selectedDeliveryOption=e),value:"express"},null,512),[[_,l.selectedDeliveryOption]]),n("span",Ne,[s[32]||(s[32]=n("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),n("span",Be,[n("span",Le,p(e.$t("express_delivery")),1),n("span",Ye,[g(p(e.$t("delivery_cost"))+": ",1),n("span",je,p(e.format_price(l.expressDeliveryCost)),1),e.is_addon_activated("multi_vendor")?(d(),u("span",Re,"/"+p(e.$t("shop")),1)):h("",!0)]),n("span",Je,[g(p(e.$t("delivery_timing"))+": ",1),n("span",We,p(e.getExpressTime)+" "+p(e.$t("days")),1)])])])])])]),_:1})):h("",!0)]),_:1})):h("",!0)])):h("",!0)])]),n("div",Ge,[n("h3",He,p(e.$t("order_summary")),1),n("div",Ke,[c(D,null,{default:r(()=>[c(P,{cols:"12",sm:"8"},{default:r(()=>[1==e.generalSettings.club_point?(d(),u("div",Qe,[c(D,{class:"mb-2"},{default:r(()=>[c(P,{cols:"8",class:"fw-500 opacity-80"},{default:r(()=>[g(p(e.$t("total_club_points")),1)]),_:1}),c(P,{cols:"4",class:"fw-700"},{default:r(()=>[g(p(e.getCartClubPoints),1)]),_:1})]),_:1})])):h("",!0),n("div",Xe,[c(D,{class:""},{default:r(()=>[c(P,{cols:"8",class:"fw-500 opacity-80"},{default:r(()=>[g(p(e.$t("sub_total")),1)]),_:1}),c(P,{cols:"4",class:"fw-700"},{default:r(()=>[g(p(e.format_price(e.getCartPrice-e.getCartTax,!1)),1)]),_:1})]),_:1}),c(D,{class:"mt-0"},{default:r(()=>[c(P,{cols:"8",class:"fw-500 opacity-80"},{default:r(()=>[g(p(e.$t("shipping_charge")),1)]),_:1}),c(P,{cols:"4",class:"fw-700"},{default:r(()=>[g(p("home_delivery"==l.selectedDeliveryType?"standard"===this.selectedDeliveryOption?e.format_price(l.standardDeliveryCost*e.getCartShops.length):e.format_price(l.expressDeliveryCost*e.getCartShops.length):0),1)]),_:1})]),_:1}),c(D,{class:"mt-0"},{default:r(()=>[c(P,{cols:"8",class:"fw-500 opacity-80"},{default:r(()=>[g(p(e.$t("tax")),1)]),_:1}),c(P,{cols:"4",class:"fw-700"},{default:r(()=>[g(p(e.format_price(e.getCartTax,!1)),1)]),_:1})]),_:1}),c(Fs,{class:"mt-3 mb-2"}),c(D,{class:"mt-0"},{default:r(()=>[c(P,{cols:"8",class:"fw-500 opacity-80"},{default:r(()=>[g(p(e.$t("discount")),1)]),_:1}),c(P,{cols:"4",class:"fw-700"},{default:r(()=>[g(p(e.format_price(e.getTotalCouponDiscount)),1)]),_:1})]),_:1}),c(Fs,{class:"my-3"}),c(D,{class:"fs-16"},{default:r(()=>[c(P,{cols:"8",class:"fw-500 opacity-80"},{default:r(()=>[g(p(e.$t("total_to_pay")),1)]),_:1}),c(P,{cols:"4",class:"fw-700"},{default:r(()=>[g(p(e.format_price(x.totalPrice,!1)),1)]),_:1})]),_:1})])]),_:1}),c(P,{cols:"12",sm:"4"},{default:r(()=>[c(qs,{loading:!1,banner:e.$store.getters["app/banners"].checkout_page,class:"checkout-banner"},null,8,["banner"])]),_:1})]),_:1})])]),n("div",Ze,[n("h3",es,p(e.$t("payment_options")),1),c(D,{class:"mb-3"},{default:r(()=>[(d(!0),u(f,null,v(e.paymentMethods,(s,t)=>(d(),o(P,{cols:"6",sm:"4",md:"3",key:t,class:b([1==s.status?"":"d-none"])},{default:r(()=>[e.getIsDigital&&"cash_on_delivery"!=s.code?(d(),u("label",ss,[n("input",{type:"radio",name:"checkout_payment_method",checked:l.selectedPaymentMethod&&s.code==l.selectedPaymentMethod.code,onChange:e=>x.paymentSelected(e,s)},null,40,ts),n("span",as,[n("img",{src:s.img,class:"img-fluid w-100"},null,8,ls),n("span",is,p(s.name),1)])])):e.getIsDigital?h("",!0):(d(),u("label",ds,[n("input",{type:"radio",name:"checkout_payment_method",checked:l.selectedPaymentMethod&&s.code==l.selectedPaymentMethod.code,onChange:e=>x.paymentSelected(e,s)},null,40,os),n("span",rs,[n("img",{src:s.img,class:"img-fluid w-100"},null,8,cs),n("span",ns,p(s.name),1)])]))]),_:2},1032,["class"]))),128)),(d(!0),u(f,null,v(e.offlinePaymentMethods,(e,s)=>(d(),o(P,{cols:"6",sm:"4",md:"3",key:e.code},{default:r(()=>[n("label",ps,[n("input",{type:"radio",name:"wallet_payment_method",checked:l.selectedPaymentMethod&&e.code==l.selectedPaymentMethod.code,onChange:s=>x.paymentSelected(s,e)},null,40,us),n("span",hs,[n("img",{src:e.img,class:"w-100 h-90px"},null,8,ms),n("span",ys,p(e.name),1)])])]),_:2},1024))),128))]),_:1}),l.selectedPaymentMethod&&"authorizenet"==l.selectedPaymentMethod.code?(d(),u("div",gs,[n("h3",_s,p(e.$t("account_details")),1),n("div",fs,[c(C,{variant:"plain",class:"my-2 text-field",placeholder:e.$t("please_enter_valid_card_number"),type:"text",modelValue:l.authorizeNet.card_number,"onUpdate:modelValue":s[18]||(s[18]=e=>l.authorizeNet.card_number=e),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),c(C,{variant:"plain",class:"my-2 text-field",placeholder:e.$t("please_enter_cvv"),type:"text",modelValue:l.authorizeNet.cvv,"onUpdate:modelValue":s[19]||(s[19]=e=>l.authorizeNet.cvv=e),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),c(Us,{variant:"plain",modelValue:l.authorizeNet.expiration_month,"onUpdate:modelValue":s[20]||(s[20]=e=>l.authorizeNet.expiration_month=e),items:l.months,placeholder:"$t('select_month')","hide-details":"auto",class:"mb-3 text-field",outlined:"","allow-overflow":"",dense:"",required:"",label:e.$t("select_month")},null,8,["modelValue","items","label"]),c(Us,{variant:"plain",modelValue:l.authorizeNet.expiration_year,"onUpdate:modelValue":s[21]||(s[21]=e=>l.authorizeNet.expiration_year=e),items:e.dateLoop,placeholder:"$t('select_year')","hide-details":"auto",class:"mb-3 text-field",outlined:"","allow-overflow":"",dense:"",required:"",label:e.$t("select_year")},null,8,["modelValue","items","label"])])])):h("",!0),l.selectedPaymentMethod&&l.selectedPaymentMethod.code.includes("offline_payment")?(d(),u("div",vs,[n("h3",ks,p(e.$t("account_details")),1),n("div",bs,[n("div",ws,[n("span",xs,p(e.$t("payment_name")),1),g(" : "+p(l.selectedPaymentMethod.name),1)]),n("div",Cs,[n("span",Ps,p(e.$t("payment_type")),1),g(" : "+p(l.selectedPaymentMethod.type_show),1)]),l.selectedPaymentMethod.description?(d(),u("div",$s,[n("span",Ds,p(e.$t("description"))+" :",1),n("span",{innerHTML:l.selectedPaymentMethod.description},null,8,Ss)])):h("",!0),l.selectedPaymentMethod.bank_info.length>0?(d(),u("div",As,[n("span",zs,p(e.$t("bank_info"))+":",1),(d(!0),u(f,null,v(l.selectedPaymentMethod.bank_info,(s,t)=>(d(),u("div",{class:"border px-2 py-2 mt-2",key:s.bank_name},[n("div",null,p(e.$t("bank_name"))+": "+p(s.bank_name),1),n("div",null,p(e.$t("account_name"))+": "+p(s.account_name),1),n("div",null,p(e.$t("account_number"))+": "+p(s.account_number),1),n("div",null,p(e.$t("routing_number"))+": "+p(s.routing_number),1)]))),128))])):h("",!0),l.selectedPaymentMethod&&l.selectedPaymentMethod.code.includes("offline_payment")?(d(),u("div",Es,[c(C,{class:"my-2 text-field",placeholder:e.$t("transaction_id"),type:"text",modelValue:l.transactionId,"onUpdate:modelValue":s[22]||(s[22]=e=>l.transactionId=e),"hide-details":"auto",required:"",variant:"plain"},null,8,["placeholder","modelValue"]),c(Os,{accept:"image/*",label:e.$t("add_receipt"),placeholder:e.$t("add_receipt"),flat:"",variant:"plain",class:"text-field","prepend-icon":"",clearable:"",modelValue:l.receipt,"onUpdate:modelValue":s[23]||(s[23]=e=>l.receipt=e)},null,8,["label","placeholder","modelValue"])])):h("",!0)])])):h("",!0)]),n("div",null,[m(n("input",{class:"m-2",type:"checkbox",id:"checkbox","onUpdate:modelValue":s[24]||(s[24]=e=>l.checkbox=e)},null,512),[[y,l.checkbox]]),g(" "+p(e.$t("by_clicking_proceed_i_agree_to"))+" "+p(e.$store.getters["app/appName"])+"'s ",1),c(Ns,{to:{name:"CustomPage",params:{pageSlug:"terms-and-conditions"}},class:"primary--text fw-500"},{default:r(()=>[g(p(e.$t("terms_and_conditions"))+" "+p(" , "),1)]),_:1}),c(Ns,{to:{name:"CustomPage",params:{pageSlug:"return-policy"}},class:"primary--text fw-500"},{default:r(()=>[g(p(e.$t("return_policy")),1)]),_:1}),s[33]||(s[33]=g(" and ",-1)),c(Ns,{to:{name:"CustomPage",params:{pageSlug:"privacy-policy"}},class:"primary--text fw-500"},{default:r(()=>[g(p(e.$t("privacy_policy")),1)]),_:1})]),n("div",Is,[c(Ts,{elevation:"0",color:"primary",class:"","x-large":"",onClick:x.proceedCheckout,loading:l.checkoutLoading,disabled:l.checkoutLoading},{default:r(()=>[n("span",Vs,p(e.$t("proceed")),1),n("span",Ms,p(e.format_price(x.totalPrice)),1)]),_:1},8,["onClick","loading","disabled"])]),c(Bs,{ref:"makePayment"},null,512),c(Ls,{ref:"failedPayment"},null,512),c(js,{value:l.checkoutLoading,"z-index":"99999"},{default:r(()=>[c(Ys,{indeterminate:"",size:"64"})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})}]]);export{Ts as default};
