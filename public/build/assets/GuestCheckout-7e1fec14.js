import{G as M,_ as G,C as J,m as S,f as E,g as W,h as m,o as n,z as w,w as r,j as a,k as s,t,i as d,q as u,A as f,E as x,v as p,B as k,F as C,p as P,n as T,D as H}from"./app-41f27463.js";import{A as j}from"./AddressDialog-5051d38c.js";import{R as K}from"./RechargeDialog-d479caa4.js";import{F as Q}from"./FailedDialog-54b1e4fe.js";import{P as X}from"./Payment-508345bd.js";M.forEach(e=>{e!=="init"&&(e=e.replace("_",""))});typeof window<"u"&&(window.SwiperElementRegisterParams=e=>{M.push(...e)});const Z={head:{title:"Checkout Page"},name:"AizShopCheckout",components:{},data(){return{for_pickup:!0,selectedPickupPoint:null,checkbox:!1,create_account:!1,user:{name:null,nameError:null,email:null,emailError:null,phone:null,phoneError:null,password:null,confirm_password:null,passwordError:null,password_confirm_Error:null,password_Ok:!1},registerEmails:[],checkoutLoading:!1,selectedShippingAddressId:null,selectedBillingAddressId:null,selectedPaymentMethod:null,selectedDeliveryOption:"",selectedDeliveryType:"",standardDeliveryCost:0,expressDeliveryCost:0,addDialogShow:!1,addressSelectedForEdit:{},rechargeDialogShow:!1,transactionId:null,receipt:null,authorizeNet:{card_number:"",cvv:"",expiration_month:"",expiration_year:""},months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateloop:[]}},components:{AddressDialog:j,RechargeDialog:K,Payment:X,FailedDialog:Q,CouponForm:J},computed:{...S("app",["generalSettings","appUrl","paymentMethods","offlinePaymentMethods","demoMode"]),...S("address",["getAddresses","getDefaultShippingAddress","getDefaultBillingAddress"]),...S("cart",["getCartPrice","getTotalCouponDiscount","getCartClubPoints","getCartTax","getCartShops","getStandardTime","getExpressTime","getAllCouponCodes","getSelectedCartIds","checkShopMinOrder","getIsDigital","getIsPickup","getPickupPoints","getCartProducts"]),...S("auth",["currentUser"]),totalPrice(){return this.selectedDeliveryType=="home_delivery"?this.selectedDeliveryOption==="standard"?this.getCartPrice-this.getTotalCouponDiscount+this.standardDeliveryCost*this.getCartShops.length:this.getCartPrice-this.getTotalCouponDiscount+this.expressDeliveryCost*this.getCartShops.length:this.getCartPrice-this.getTotalCouponDiscount}},methods:{...E("cart",["resetCoupon","removeMultipleFromCart","fetchCartProducts","fetchPickupPoints"]),...E("address",["fetchAddresses"]),...E("auth",["rechargeWallet","deductFromWallet"]),...W("address",["clearAddresses"]),checkEmail(){const e=this.user.email.trim().toLowerCase();this.registerEmails.includes(e)?this.user.emailError="This email already has an account. Please log in.":this.user.emailError=""},password_validate(){this.user.password.length<6?this.user.passwordError="Password atletst 6 character":this.user.passwordError=""},passwordConfirm(){this.user.confirm_password!==this.user.password?(this.user.password_Ok=!0,this.user.password_confirm_Error="Password not match!"):this.user.password_confirm_Error=""},async checkForPickUp(e){this.getCartProducts.map(i=>{if(i.for_pickup==0){this.selectedPickupPoint=null,this.for_pickup=!1,this.snack({message:"One or more items in the cart are not available for pickup",color:"red"});return}else this.for_pickup=!0}),this.selectedDeliveryType=e},ChooseDeleviryType(e){this.selectedDeliveryType=e},addressDialogClosed(){this.addressSelectedForEdit={},this.addDialogShow=!1,this.getAddresses.length==1&&(this.selectedShippingAddressId=this.getAddresses[0].id,this.selectedBillingAddressId=this.getAddresses[0].id,this.getShippingCost(this.getAddresses[0].id))},editAddress(e){this.addressSelectedForEdit=e,this.addDialogShow=!0},rechargeDialogClosed(){this.rechargeDialogShow=!1},paymentSelected(e,i){this.selectedPaymentMethod=i},walletSelected(){this.currentUser.balance>=this.totalPrice?this.selectedPaymentMethod={code:"wallet"}:this.snack({message:"You don't have enough wallet balance. Please recharge.",color:"red"})},shippingAddressSelected(e){this.getShippingCost(e)},async getShippingCost(e){const i=await this.call_api("get",`checkout/get-shipping-cost/${e}`);this.selectedDeliveryOption=i.data.success?"standard":"",this.standardDeliveryCost=parseFloat(i.data.standard_delivery_cost),this.expressDeliveryCost=parseFloat(i.data.express_delivery_cost)},async loadRegisteredEmails(){const e=await this.call_api("get","customer-email");e.data.success&&(this.registerEmails=Array.isArray(e.data.data)?e.data.data:[])},async proceedCheckout(){if(this.demoMode){this.snack({message:"Data chaning action is not allowed in demo mode.",color:"red"});return}if(this.create_account&&!this.user.password_Ok){this.snack({message:"Add your Password correctly!",color:"red"});return}if(this.user.name)this.user.nameError="";else{this.user.nameError="Your name is missing",this.snack({message:"Your name is missing",color:"red"});return}if(this.user.phone)if(/^\d{10,15}$/.test(this.user.phone))this.user.phoneError="";else{this.user.phoneError="Please enter a valid phone number",this.snack({message:"Please enter a valid phone number",color:"red"});return}else{this.user.phoneError="Your phone number is missing",this.snack({message:"Your phone number is missing",color:"red"});return}if(this.user.email)if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.user.email))this.user.emailError="";else{this.user.emailError="Please enter a valid email address",this.snack({message:"Please enter a valid email address",color:"red"});return}else{this.user.emailError="Your email is missing",this.snack({message:"Your email is missing",color:"red"});return}if(!this.checkbox){this.snack({message:"You need to agree with our policies",color:"red"});return}if(this.getSelectedCartIds.length==0){this.snack({message:"Please select a cart product",color:"red"});return}if(this.selectedDeliveryType=="home_delivery"&&this.getAddresses.length==0){this.snack({message:"Please add a delivery address",color:"red"});return}if(this.selectedDeliveryType==="home_delivery"&&!this.selectedShippingAddressId){this.snack({message:"Please select a delivery address",color:"red"});return}if(!this.selectedBillingAddressId){this.snack({message:"Please select a billing address",color:"red"});return}if(this.selectedDeliveryType===""){this.snack({message:"Please select delivery type at first",color:"red"});return}if(this.selectedDeliveryType==="pickup"&&this.for_pickup==!1){this.snack({message:"One or more items in the cart are not available for pickup",color:"red"});return}if(this.selectedDeliveryType==="pickup"&&this.selectedPickupPoint==null){this.snack({message:"Please select a pick up point",color:"red"});return}if(!this.selectedPaymentMethod){this.snack({message:"Please select a payment method",color:"red"});return}if(this.selectedPaymentMethod&&this.selectedPaymentMethod.code.includes("offline_payment")&&this.transactionId===null){this.snack({message:this.$i18n.t("please_input_transaction_id"),color:"red"});return}if(!this.checkShopMinOrder.success){this.snack({message:this.checkShopMinOrder.message,color:"red"});return}let e=new FormData;if(e.append("name",this.user.name),e.append("phone",this.user.phone),e.append("email",this.user.email),e.append("create_account",this.create_account),e.append("password",this.user.password),e.append("confirm_password",this.user.confirm_password),e.append("shipping_address_id",this.selectedShippingAddressId),e.append("billing_address_id",this.selectedBillingAddressId),e.append("payment_type",this.selectedPaymentMethod.code),e.append("delivery_type",this.selectedDeliveryOption),e.append("type_of_delivery",this.selectedDeliveryType),e.append("pickup_point_id",this.selectedPickupPoint),this.getSelectedCartIds.forEach((y,l)=>{e.append("cart_item_ids[]",y)}),this.getAllCouponCodes.forEach((y,l)=>{e.append("coupon_codes[]",y)}),e.append("transactionId",this.transactionId),e.append("receipt",this.receipt),this.getCartPrice>0){this.checkoutLoading=!0;const y=await this.call_api("post","checkout/guest/order/store",e,!0);y.data.success?(this.clearAddresses(),this.create_account&&localStorage.removeItem("shopTempUserId"),y.data.go_to_payment?this.$refs.makePayment.pay({requestedFrom:"/checkout",paymentAmount:0,paymentMethod:y.data.payment_method,paymentType:"cart_payment",userId:this.currentUser.id,oderCode:y.data.order_code,card_number:this.authorizeNet.card_number,cvv:this.authorizeNet.cvv,expiration_month:this.authorizeNet.expiration_month,expiration_year:this.authorizeNet.expiration_year}):(this.create_account?this.snack({message:"Your account has been created successfully. You can now log in with your credentials",color:"green"}):this.snack({message:y.data.message,color:"green"}),setTimeout(()=>{this.$router.push({name:"OrderConfirmed",query:{orderCode:y.data.order_code}}).catch(()=>{})},4e3)),setTimeout(()=>{this.resetCoupon(),this.removeMultipleFromCart(this.getSelectedCartIds)},2e3)):this.snack({message:y.data.message,color:"red"}),this.checkoutLoading=!1}}},async created(){await this.fetchPickupPoints(),await this.fetchAddresses(),this.selectedShippingAddressId=this.getDefaultShippingAddress.id,this.selectedBillingAddressId=this.getDefaultBillingAddress.id,this.getShippingCost(this.selectedShippingAddressId);let e=[],i=new Date().getFullYear();for(i;i<=new Date().getFullYear()+15;i++)e.push(i);this.dateLoop=e},mounted(){this.loadRegisteredEmails(),this.$route.query.cart_payment&&this.$route.query.order_code&&(this.$route.query.cart_payment=="success"?(this.$router.push({name:"OrderConfirmed",query:{orderCode:this.$route.query.order_code}}).catch(()=>{}),this.snack({message:"Payment successful!"})):this.$route.query.cart_payment=="failed"&&this.$refs.failedPayment.open({orderCode:this.$route.query.order_code,paymentMethod:this.$route.query.payment_method})),this.rechargeWallet(this.$route.query.wallet_payment),this.fetchCartProducts()}},$={class:"fs-24 fw-700 opacity-80 mb-4"},ee={class:"mb-4"},se={class:"guest-user-info mb-3"},te={class:"opacity-80 mb-4 fs-20"},oe={class:""},le={class:"mb-1 fw-500 opacity-80 grey lighten-5"},ie={key:0,class:"text-red"},ae={class:""},re={class:"mb-1 fw-500 opacity-80"},ne={key:0,class:"text-red"},de={class:""},ce={class:"mb-1 fw-500 opacity-80"},pe={key:0,class:"text-red"},ue={key:0,class:"w-100"},he={class:""},me={class:"mb-1 fw-500 opacity-80"},_e={key:0,class:"text-red"},ye={class:"mb-3"},ge={class:"mb-1 fw-500 opacity-80"},fe={key:0,class:"text-red"},ve={class:"delivery-type"},ke={class:"opacity-80 mb-3 fs-20"},be={class:"position-relative mb-3"},we={class:"aiz-megabox d-block"},Ce={class:"d-flex pa-3 aiz-megabox-elem fs-13"},Pe={class:"flex-grow-1 ps-3 lh-1-5"},De={class:"d-block fw-600"},Se={class:"position-relative mb-3"},Ae={class:"aiz-megabox d-block"},ze={class:"d-flex pa-3 aiz-megabox-elem fs-13"},Ee={class:"flex-grow-1 ps-3 lh-1-5"},Ve={class:"d-block fw-600"},Ie={key:0,class:"position-relative my-3"},xe={key:0,class:"aiz-megabox d-block"},Te={class:"opacity-80 mb-3 fs-20"},Me={class:"mb-4"},Ue={class:"aiz-megabox d-block"},Fe=["value","checked"],qe={class:"d-flex pa-3 aiz-megabox-elem fs-13 fw-600"},Oe={class:"flex-grow-1 ps-3 opacity-80 lh-1-5"},Ne={class:"d-block"},Be={class:"d-block"},Ye={key:0},Le={class:"opacity-80 mb-3 fs-20"},Re={class:"mb-4"},Ge={class:"aiz-megabox d-block"},Je=["value","checked","onChange"],We={class:"d-flex pa-3 aiz-megabox-elem fs-13 fw-600"},He={class:"flex-grow-1 ps-3 opacity-80 lh-1-5"},je={class:"d-block"},Ke={class:"d-block"},Qe={class:"opacity-80 mb-3 fs-20"},Xe={class:"mb-4"},Ze={class:"aiz-megabox d-block"},$e=["value","checked"],es={class:"d-flex pa-3 aiz-megabox-elem fs-13 fw-600"},ss={class:"flex-grow-1 ps-3 opacity-80 lh-1-5"},ts={class:"d-block"},os={class:"d-block"},ls={key:1,class:"delivery-option"},is={class:"opacity-80 mb-3 fs-20"},as={class:"position-relative mb-3"},rs={class:"aiz-megabox d-block"},ns={class:"d-flex pa-3 aiz-megabox-elem fs-13"},ds={class:"flex-grow-1 ps-3 lh-1-5"},cs={class:"d-block fw-600"},ps={class:"d-block"},us={class:"fw-600"},hs={key:0},ms={class:"d-block"},_s={class:"fw-600"},ys={class:"position-relative mb-3"},gs={class:"aiz-megabox d-block"},fs={class:"d-flex pa-3 aiz-megabox-elem fs-13"},vs={class:"flex-grow-1 ps-3 lh-1-5"},ks={class:"d-block fw-600"},bs={class:"d-block"},ws={class:"fw-600"},Cs={key:0},Ps={class:"d-block"},Ds={class:"fw-600"},Ss={key:1,class:"border red white--text rounded pa-4"},As={class:"mb-4"},zs={class:"opacity-80 mb-3 fs-20"},Es={class:"mb-4"},Vs={key:0,class:"bg-soft-primary text-reset px-6 rounded-sm"},Is={class:"border border-gray-200 rounded px-6 py-5 grey lighten-5"},xs={class:"mb-4"},Ts={class:"opacity-80 mb-3 fs-20"},Ms={key:0,class:"aiz-megabox d-block"},Us=["checked","onChange"],Fs={class:"d-block pa-3 aiz-megabox-elem text-center"},qs=["src"],Os={class:"fw-700 fs-14"},Ns={key:1,class:"aiz-megabox d-block"},Bs=["checked","onChange"],Ys={class:"d-block pa-3 aiz-megabox-elem text-center"},Ls=["src"],Rs={class:"fw-700 fs-14"},Gs={class:"aiz-megabox d-block"},Js=["checked","onChange"],Ws={class:"d-block pa-3 aiz-megabox-elem text-center"},Hs=["src"],js={class:"fw-700 fs-13"},Ks={key:0,class:"my-3"},Qs={class:"opacity-80 mb-3 fs-18 text-capitalize"},Xs={class:"border px-2 py-2"},Zs={key:1,class:"my-3"},$s={class:"opacity-80 mb-3 fs-18 text-capitalize"},et={class:"border px-2 py-2"},st={class:"text-capitalize my-1"},tt={class:"font-weight-bold"},ot={class:"text-capitalize my-1"},lt={class:"font-weight-bold"},it={key:0,class:"text-capitalize d-flex my-1"},at={class:"font-weight-bold me-1"},rt=["innerHTML"],nt={key:1,class:"text-capitalize"},dt={class:"font-weight-bold"},ct={key:2},pt={class:"my-8"},ut={class:""},ht={class:"border-start border-gray-400 ps-5 ms-5"};function mt(e,i,U,y,l,h){const v=m("v-text-field"),c=m("v-col"),F=m("v-expand-transition"),g=m("v-row"),V=m("address-dialog"),b=m("v-btn"),A=m("v-autocomplete"),I=m("v-divider"),q=m("banner"),O=m("v-file-input"),z=m("router-link"),N=m("Payment"),B=m("FailedDialog"),Y=m("v-progress-circular"),L=m("v-overlay"),R=m("v-container");return n(),w(R,{class:"pt-7"},{default:r(()=>[a(g,null,{default:r(()=>[a(c,{xl:"8",lg:"10",class:"mx-auto"},{default:r(()=>[s("h1",$,t(e.$t("Guest checkout")),1),s("div",ee,[s("div",null,[s("div",se,[s("h3",te,t(e.$t("Customer Information")),1),a(g,null,{default:r(()=>[a(c,{cols:"12",class:"px-3 py-0 pb-3 grey lighten-5"},{default:r(()=>[s("div",oe,[s("div",le,t(e.$t("Name")),1),a(v,{variant:"plain",class:"text-field-customer",placeholder:e.$t("Your name"),type:"text",modelValue:l.user.name,"onUpdate:modelValue":i[0]||(i[0]=o=>l.user.name=o),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),l.user.nameError?(n(),d("p",ie,t(l.user.nameError),1)):u("",!0)])]),_:1}),a(c,{cols:"12",class:"px-3 py-0 pb-3"},{default:r(()=>[s("div",ae,[s("div",re,t(e.$t("Phone")),1),a(v,{variant:"plain",class:"text-field-customer",placeholder:e.$t("+8801700-000000"),type:"text",modelValue:l.user.phone,"onUpdate:modelValue":i[1]||(i[1]=o=>l.user.phone=o),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),l.user.phoneError?(n(),d("p",ne,t(l.user.phoneError),1)):u("",!0)])]),_:1}),a(c,{cols:"12",class:"px-3 py-0 pb-3"},{default:r(()=>[s("div",de,[s("div",ce,t(e.$t("Email")),1),a(v,{variant:"plain",class:"text-field-customer",placeholder:e.$t("Your mail address"),type:"text",modelValue:l.user.email,"onUpdate:modelValue":i[2]||(i[2]=o=>l.user.email=o),onInput:h.checkEmail,"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","onInput"]),l.user.emailError?(n(),d("p",pe,t(l.user.emailError),1)):u("",!0)])]),_:1}),a(c,{cols:"12",class:"px-3 py-0 pb-3"},{default:r(()=>[s("div",null,[f(s("input",{class:"m-2 fw-500 opacity-80 p-2 grey",type:"checkbox",id:"newAccount","onUpdate:modelValue":i[3]||(i[3]=o=>l.create_account=o)},null,512),[[x,l.create_account]]),p(" "+t(e.$t("I want to create my account.")),1)])]),_:1}),a(F,null,{default:r(()=>[l.create_account?(n(),d("div",ue,[a(c,{cols:"12 ",class:"px-3 py-0 pb-3"},{default:r(()=>[s("div",he,[s("div",me,t(e.$t("Password")),1),a(v,{variant:"plain",class:"text-field-customer",placeholder:e.$t("********"),type:"password",modelValue:l.user.password,"onUpdate:modelValue":i[4]||(i[4]=o=>l.user.password=o),"hide-details":"auto",onInput:h.password_validate,required:"",outlined:""},null,8,["placeholder","modelValue","onInput"]),l.user.passwordError?(n(),d("p",_e,t(l.user.passwordError),1)):u("",!0)])]),_:1}),a(c,{cols:"12",class:"px-3 py-0 pb-3"},{default:r(()=>[s("div",ye,[s("div",ge,t(e.$t("Confirm password")),1),a(v,{variant:"plain",class:"text-field-customer",placeholder:e.$t("********"),type:"password",modelValue:l.user.confirm_password,"onUpdate:modelValue":i[5]||(i[5]=o=>l.user.confirm_password=o),onInput:h.passwordConfirm,"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue","onInput"]),l.user.password_confirm_Error?(n(),d("p",fe,t(l.user.password_confirm_Error),1)):u("",!0)])]),_:1})])):u("",!0)]),_:1})]),_:1})]),s("div",ve,[s("h3",ke,t(e.$t("delivery_type")),1),a(g,null,{default:r(()=>[a(c,{cols:"12",sm:"6"},{default:r(()=>[s("div",be,[s("label",we,[f(s("input",{type:"radio",name:"delivery_type","onUpdate:modelValue":i[6]||(i[6]=o=>l.selectedDeliveryType=o),value:"home_delivery",onClick:i[7]||(i[7]=o=>h.ChooseDeleviryType("home_delivery"))},null,512),[[k,l.selectedDeliveryType]]),s("span",Ce,[i[25]||(i[25]=s("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),s("span",Pe,[s("span",De,t(e.$t("home_delivery")),1)])])])])]),_:1}),e.getIsPickup&&e.generalSettings.pickup_point?(n(),w(c,{key:0,cols:"12",sm:"6"},{default:r(()=>[s("div",Se,[s("label",Ae,[f(s("input",{type:"radio",name:"delivery_type","onUpdate:modelValue":i[8]||(i[8]=o=>l.selectedDeliveryType=o),value:"pickup",onClick:i[9]||(i[9]=o=>h.checkForPickUp("pickup"))},null,512),[[k,l.selectedDeliveryType]]),s("span",ze,[i[26]||(i[26]=s("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),s("span",Ee,[s("span",Ve,t(e.$t("pickup")),1)])])])])]),_:1})):u("",!0)]),_:1}),e.generalSettings.pickup_point&&l.selectedDeliveryType=="pickup"?(n(),d("div",Ie,[l.for_pickup?(n(),d("label",xe,[a(V,{show:l.addDialogShow,onClose:h.addressDialogClosed,"old-address":l.addressSelectedForEdit},null,8,["show","onClose","old-address"]),s("h3",Te,t(e.$t("billing_address")),1),s("div",Me,[(n(!0),d(C,null,P(e.getAddresses,o=>(n(),d("div",{class:"position-relative mb-3",key:o.id},[s("label",Ue,[f(s("input",{type:"radio",name:"checkout_billing","onUpdate:modelValue":i[10]||(i[10]=_=>l.selectedBillingAddressId=_),value:o.id,checked:o.default_billing},null,8,Fe),[[k,l.selectedBillingAddressId]]),s("span",qe,[i[27]||(i[27]=s("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),s("span",Oe,[s("span",Ne,t(o.address)+", "+t(o.postal_code),1),s("span",Be,t(o.city)+", "+t(o.state)+", "+t(o.country),1),s("span",null,t(o.phone),1)])])]),a(b,{class:"absolute-right-center me-3",color:"primary",elevation:"0",small:"",onClick:_=>h.editAddress(o)},{default:r(()=>[p(t(e.$t("change")),1)]),_:2},1032,["onClick"])]))),128)),a(b,{class:"border-dashed border-gray-300 primary--text fs-14",elevation:"0",block:"","x-large":"",onClick:i[11]||(i[11]=T(o=>l.addDialogShow=!0,["stop"]))},{default:r(()=>[i[28]||(i[28]=s("i",{class:"las la-plus"},null,-1)),s("span",null,t(e.$t("add_new_address")),1)]),_:1})]),a(A,{modelValue:l.selectedPickupPoint,"onUpdate:modelValue":i[12]||(i[12]=o=>l.selectedPickupPoint=o),items:e.getPickupPoints,label:e.$t("select_pickup_point"),"hide-details":"auto",variant:"outlined","item-title":"name","item-value":"id",dense:"",autocomplete:"off",class:""},null,8,["modelValue","items","label"])])):u("",!0)])):u("",!0)]),l.selectedDeliveryType=="home_delivery"?(n(),d("div",Ye,[a(V,{show:l.addDialogShow,onClose:h.addressDialogClosed,"old-address":l.addressSelectedForEdit},null,8,["show","onClose","old-address"]),s("h3",Le,t(e.$t("shipping_address")),1),s("div",Re,[(n(!0),d(C,null,P(e.getAddresses,o=>(n(),d("div",{class:"position-relative mb-3",key:o.id},[s("label",Ge,[f(s("input",{type:"radio",name:"checkout_shipping","onUpdate:modelValue":i[13]||(i[13]=_=>l.selectedShippingAddressId=_),value:o.id,checked:o.default_shipping,onChange:_=>h.shippingAddressSelected(o.id)},null,40,Je),[[k,l.selectedShippingAddressId]]),s("span",We,[i[29]||(i[29]=s("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),s("span",He,[s("span",je,t(o.address)+", "+t(o.postal_code),1),s("span",Ke,t(o.city)+", "+t(o.state)+", "+t(o.country),1),s("span",null,t(o.phone),1)])])]),a(b,{class:"absolute-right-center me-3",color:"primary",elevation:"0",small:"",onClick:_=>h.editAddress(o)},{default:r(()=>[p(t(e.$t("change")),1)]),_:2},1032,["onClick"])]))),128)),a(b,{class:"border-dashed border-gray-300 primary--text fs-14",elevation:"0",block:"","x-large":"",onClick:i[14]||(i[14]=T(o=>l.addDialogShow=!0,["stop"]))},{default:r(()=>[i[30]||(i[30]=s("i",{class:"las la-plus"},null,-1)),s("span",null,t(e.$t("add_new_address")),1)]),_:1})]),s("h3",Qe,t(e.$t("billing_address")),1),s("div",Xe,[(n(!0),d(C,null,P(e.getAddresses,o=>(n(),d("div",{class:"position-relative mb-3",key:o.id},[s("label",Ze,[f(s("input",{type:"radio",name:"checkout_billing","onUpdate:modelValue":i[15]||(i[15]=_=>l.selectedBillingAddressId=_),value:o.id,checked:o.default_billing},null,8,$e),[[k,l.selectedBillingAddressId]]),s("span",es,[i[31]||(i[31]=s("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),s("span",ss,[s("span",ts,t(o.address)+", "+t(o.postal_code),1),s("span",os,t(o.city)+", "+t(o.state)+", "+t(o.country),1),s("span",null,t(o.phone),1)])])]),a(b,{class:"absolute-right-center me-3",color:"primary",elevation:"0",small:"",onClick:_=>h.editAddress(o)},{default:r(()=>[p(t(e.$t("change")),1)]),_:2},1032,["onClick"])]))),128))])])):u("",!0),l.selectedDeliveryType=="home_delivery"?(n(),d("div",ls,[s("h3",is,t(e.$t("delivery_option")),1),l.selectedDeliveryOption!==""?(n(),w(g,{key:0},{default:r(()=>[a(c,{cols:"12",sm:"6"},{default:r(()=>[s("div",as,[s("label",rs,[f(s("input",{type:"radio",name:"delivery_option","onUpdate:modelValue":i[16]||(i[16]=o=>l.selectedDeliveryOption=o),value:"standard"},null,512),[[k,l.selectedDeliveryOption]]),s("span",ns,[i[32]||(i[32]=s("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),s("span",ds,[s("span",cs,t(e.$t("standard_delivery")),1),s("span",ps,[p(t(e.$t("delivery_cost"))+": ",1),s("span",us,t(e.format_price(l.standardDeliveryCost)),1),e.is_addon_activated("multi_vendor")?(n(),d("span",hs,"/"+t(e.$t("shop")),1)):u("",!0)]),s("span",ms,[p(t(e.$t("delivery_timing"))+": ",1),s("span",_s,t(e.getStandardTime)+" "+t(e.$t("days")),1)])])])])])]),_:1}),e.generalSettings.express_delivery_option?(n(),w(c,{key:0,cols:"12",sm:"6"},{default:r(()=>[s("div",ys,[s("label",gs,[f(s("input",{type:"radio",name:"delivery_option","onUpdate:modelValue":i[17]||(i[17]=o=>l.selectedDeliveryOption=o),value:"express"},null,512),[[k,l.selectedDeliveryOption]]),s("span",fs,[i[33]||(i[33]=s("span",{class:"aiz-rounded-check flex-shrink-0 mt-1"},null,-1)),s("span",vs,[s("span",ks,t(e.$t("express_delivery")),1),s("span",bs,[p(t(e.$t("delivery_cost"))+": ",1),s("span",ws,t(e.format_price(l.expressDeliveryCost)),1),e.is_addon_activated("multi_vendor")?(n(),d("span",Cs,"/"+t(e.$t("shop")),1)):u("",!0)]),s("span",Ps,[p(t(e.$t("delivery_timing"))+": ",1),s("span",Ds,t(e.getExpressTime)+" "+t(e.$t("days")),1)])])])])])]),_:1})):u("",!0)]),_:1})):(n(),d("div",Ss,t(e.$t("sorry_delivery_is_not_available_in_this_shipping_address")),1))])):u("",!0)])]),s("div",As,[s("h3",zs,t(e.$t("order_summary")),1),s("div",Es,[a(g,null,{default:r(()=>[a(c,{cols:"12",sm:"8"},{default:r(()=>[e.generalSettings.club_point==1?(n(),d("div",Vs,[a(g,{class:"mb-2"},{default:r(()=>[a(c,{cols:"8",class:"fw-500 opacity-80"},{default:r(()=>[p(t(e.$t("total_club_points")),1)]),_:1}),a(c,{cols:"4",class:"fw-700"},{default:r(()=>[p(t(e.getCartClubPoints),1)]),_:1})]),_:1})])):u("",!0),s("div",Is,[a(g,{class:""},{default:r(()=>[a(c,{cols:"8",class:"fw-500 opacity-80"},{default:r(()=>[p(t(e.$t("sub_total")),1)]),_:1}),a(c,{cols:"4",class:"fw-700"},{default:r(()=>[p(t(e.format_price(e.getCartPrice-e.getCartTax,!1)),1)]),_:1})]),_:1}),a(g,{class:"mt-0"},{default:r(()=>[a(c,{cols:"8",class:"fw-500 opacity-80"},{default:r(()=>[p(t(e.$t("shipping_charge")),1)]),_:1}),a(c,{cols:"4",class:"fw-700"},{default:r(()=>[p(t(l.selectedDeliveryType=="home_delivery"?this.selectedDeliveryOption==="standard"?e.format_price(l.standardDeliveryCost*e.getCartShops.length):e.format_price(l.expressDeliveryCost*e.getCartShops.length):0),1)]),_:1})]),_:1}),a(g,{class:"mt-0"},{default:r(()=>[a(c,{cols:"8",class:"fw-500 opacity-80"},{default:r(()=>[p(t(e.$t("tax")),1)]),_:1}),a(c,{cols:"4",class:"fw-700"},{default:r(()=>[p(t(e.format_price(e.getCartTax,!1)),1)]),_:1})]),_:1}),a(I,{class:"mt-3 mb-2"}),a(g,{class:"mt-0"},{default:r(()=>[a(c,{cols:"8",class:"fw-500 opacity-80"},{default:r(()=>[p(t(e.$t("discount")),1)]),_:1}),a(c,{cols:"4",class:"fw-700"},{default:r(()=>[p(t(e.format_price(e.getTotalCouponDiscount)),1)]),_:1})]),_:1}),a(I,{class:"my-3"}),a(g,{class:"fs-16"},{default:r(()=>[a(c,{cols:"8",class:"fw-500 opacity-80"},{default:r(()=>[p(t(e.$t("total_to_pay")),1)]),_:1}),a(c,{cols:"4",class:"fw-700"},{default:r(()=>[p(t(e.format_price(h.totalPrice,!1)),1)]),_:1})]),_:1})])]),_:1}),a(c,{cols:"12",sm:"4"},{default:r(()=>[a(q,{loading:!1,banner:e.$store.getters["app/banners"].checkout_page,class:"checkout-banner"},null,8,["banner"])]),_:1})]),_:1})])]),s("div",xs,[s("h3",Ts,t(e.$t("payment_options")),1),a(g,{class:"mb-3"},{default:r(()=>[(n(!0),d(C,null,P(e.paymentMethods,(o,_)=>(n(),w(c,{cols:"6",sm:"4",md:"3",key:_,class:H([o.status==1?"":"d-none"])},{default:r(()=>[e.getIsDigital&&o.code!="cash_on_delivery"?(n(),d("label",Ms,[s("input",{type:"radio",name:"checkout_payment_method",checked:l.selectedPaymentMethod&&o.code==l.selectedPaymentMethod.code,onChange:D=>h.paymentSelected(D,o)},null,40,Us),s("span",Fs,[s("img",{src:o.img,class:"img-fluid w-100"},null,8,qs),s("span",Os,t(o.name),1)])])):e.getIsDigital?u("",!0):(n(),d("label",Ns,[s("input",{type:"radio",name:"checkout_payment_method",checked:l.selectedPaymentMethod&&o.code==l.selectedPaymentMethod.code,onChange:D=>h.paymentSelected(D,o)},null,40,Bs),s("span",Ys,[s("img",{src:o.img,class:"img-fluid w-100"},null,8,Ls),s("span",Rs,t(o.name),1)])]))]),_:2},1032,["class"]))),128)),(n(!0),d(C,null,P(e.offlinePaymentMethods,(o,_)=>(n(),w(c,{cols:"6",sm:"4",md:"3",key:o.code},{default:r(()=>[s("label",Gs,[s("input",{type:"radio",name:"wallet_payment_method",checked:l.selectedPaymentMethod&&o.code==l.selectedPaymentMethod.code,onChange:D=>h.paymentSelected(D,o)},null,40,Js),s("span",Ws,[s("img",{src:o.img,class:"w-100 h-90px"},null,8,Hs),s("span",js,t(o.name),1)])])]),_:2},1024))),128))]),_:1}),l.selectedPaymentMethod&&l.selectedPaymentMethod.code=="authorizenet"?(n(),d("div",Ks,[s("h3",Qs,t(e.$t("account_details")),1),s("div",Xs,[a(v,{variant:"plain",class:"my-2 text-field",placeholder:e.$t("please_enter_valid_card_number"),type:"text",modelValue:l.authorizeNet.card_number,"onUpdate:modelValue":i[18]||(i[18]=o=>l.authorizeNet.card_number=o),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),a(v,{variant:"plain",class:"my-2 text-field",placeholder:e.$t("please_enter_cvv"),type:"text",modelValue:l.authorizeNet.cvv,"onUpdate:modelValue":i[19]||(i[19]=o=>l.authorizeNet.cvv=o),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),a(A,{variant:"plain",modelValue:l.authorizeNet.expiration_month,"onUpdate:modelValue":i[20]||(i[20]=o=>l.authorizeNet.expiration_month=o),items:l.months,placeholder:"$t('select_month')","hide-details":"auto",class:"mb-3 text-field",outlined:"","allow-overflow":"",dense:"",required:"",label:e.$t("select_month")},null,8,["modelValue","items","label"]),a(A,{variant:"plain",modelValue:l.authorizeNet.expiration_year,"onUpdate:modelValue":i[21]||(i[21]=o=>l.authorizeNet.expiration_year=o),items:e.dateLoop,placeholder:"$t('select_year')","hide-details":"auto",class:"mb-3 text-field",outlined:"","allow-overflow":"",dense:"",required:"",label:e.$t("select_year")},null,8,["modelValue","items","label"])])])):u("",!0),l.selectedPaymentMethod&&l.selectedPaymentMethod.code.includes("offline_payment")?(n(),d("div",Zs,[s("h3",$s,t(e.$t("account_details")),1),s("div",et,[s("div",st,[s("span",tt,t(e.$t("payment_name")),1),p(" : "+t(l.selectedPaymentMethod.name),1)]),s("div",ot,[s("span",lt,t(e.$t("payment_type")),1),p(" : "+t(l.selectedPaymentMethod.type_show),1)]),l.selectedPaymentMethod.description?(n(),d("div",it,[s("span",at,t(e.$t("description"))+" :",1),s("span",{innerHTML:l.selectedPaymentMethod.description},null,8,rt)])):u("",!0),l.selectedPaymentMethod.bank_info.length>0?(n(),d("div",nt,[s("span",dt,t(e.$t("bank_info"))+":",1),(n(!0),d(C,null,P(l.selectedPaymentMethod.bank_info,(o,_)=>(n(),d("div",{class:"border px-2 py-2 mt-2",key:o.bank_name},[s("div",null,t(e.$t("bank_name"))+": "+t(o.bank_name),1),s("div",null,t(e.$t("account_name"))+": "+t(o.account_name),1),s("div",null,t(e.$t("account_number"))+": "+t(o.account_number),1),s("div",null,t(e.$t("routing_number"))+": "+t(o.routing_number),1)]))),128))])):u("",!0),l.selectedPaymentMethod&&l.selectedPaymentMethod.code.includes("offline_payment")?(n(),d("div",ct,[a(v,{class:"my-2 text-field",placeholder:e.$t("transaction_id"),type:"text",modelValue:l.transactionId,"onUpdate:modelValue":i[22]||(i[22]=o=>l.transactionId=o),"hide-details":"auto",required:"",variant:"plain"},null,8,["placeholder","modelValue"]),a(O,{accept:"image/*",label:e.$t("add_receipt"),placeholder:e.$t("add_receipt"),flat:"",variant:"plain",class:"text-field","prepend-icon":"",clearable:"",modelValue:l.receipt,"onUpdate:modelValue":i[23]||(i[23]=o=>l.receipt=o)},null,8,["label","placeholder","modelValue"])])):u("",!0)])])):u("",!0)]),s("div",null,[f(s("input",{class:"m-2",type:"checkbox",id:"checkbox","onUpdate:modelValue":i[24]||(i[24]=o=>l.checkbox=o)},null,512),[[x,l.checkbox]]),p(" "+t(e.$t("by_clicking_proceed_i_agree_to"))+" "+t(e.$store.getters["app/appName"])+"'s ",1),a(z,{to:{name:"CustomPage",params:{pageSlug:"terms-and-conditions"}},class:"primary--text fw-500"},{default:r(()=>[p(t(e.$t("terms_and_conditions"))+" "+t(" , "),1)]),_:1}),a(z,{to:{name:"CustomPage",params:{pageSlug:"return-policy"}},class:"primary--text fw-500"},{default:r(()=>[p(t(e.$t("return_policy")),1)]),_:1}),i[34]||(i[34]=p(" and ",-1)),a(z,{to:{name:"CustomPage",params:{pageSlug:"privacy-policy"}},class:"primary--text fw-500"},{default:r(()=>[p(t(e.$t("privacy_policy")),1)]),_:1})]),s("div",pt,[a(b,{elevation:"0",color:"primary",class:"","x-large":"",onClick:h.proceedCheckout,loading:l.checkoutLoading,disabled:l.checkoutLoading},{default:r(()=>[s("span",ut,t(e.$t("proceed")),1),s("span",ht,t(e.format_price(h.totalPrice)),1)]),_:1},8,["onClick","loading","disabled"])]),a(N,{ref:"makePayment"},null,512),a(B,{ref:"failedPayment"},null,512),a(L,{value:l.checkoutLoading,"z-index":"99999"},{default:r(()=>[a(Y,{indeterminate:"",size:"64"})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})}const kt=G(Z,[["render",mt]]);export{kt as default};
