import{_ as e,m as s,f as t,h as a,o as d,i as r,j as l,k as o,t as i,z as n,w as c,q as u,n as g,F as h,p as f,A as b}from"./app-5a177a8d.js";import{A as p}from"./AddressDialog-7e3e20d7.js";import{R as _}from"./RechargeDialog-a485c5b1.js";import"./Payment-daccfa42.js";const w={data:()=>({rechargeDialogShow:!1,addressDialogShow:!1,dashboardLoading:!0,total_order_products:0,purchasedProducts:[{},{},{}],recentlyViewedProducts:{loading:!0,products:[]},last_recharge:{amount:0,date:""}}),components:{RechargeDialog:_,AddressDialog:p},computed:{...s("app",["generalSettings"]),...s("auth",["currentUser"]),...s("cart",["getCartCount"]),...s("wishlist",["wislistLoaded","getTotalWishlisted","getWislistProducts"]),...s("address",["getDefaultBillingAddress"]),...s("recentlyViewed",["recentlyViewedLoaded","getRecentlyViewedProducts"])},methods:{...t("auth",["rechargeWallet"]),...t("address",["fetchAddresses"]),...t("wishlist",["fetchWislistProducts"]),...t("recentlyViewed",["fetchRecentlyViewedProducts"]),async getDashboardData(){const e=await this.call_api("get","user/dashboard");e.data.success&&(this.total_order_products=e.data.total_order_products,this.purchasedProducts=e.data.recent_purchased_products.data,this.last_recharge=e.data.last_recharge),this.dashboardLoading=!1},rechargeDialogClosed(){this.rechargeDialogShow=!1},addressDialogClosed(){this.addressDialogShow=!1}},created(){this.getDashboardData(),this.fetchAddresses(),this.fetchWislistProducts(),this.fetchRecentlyViewedProducts()},mounted(){this.rechargeWallet(this.$route.query.wallet_payment)}},y={class:"ps-lg-7 pt-4"},m={class:"fs-21 fw-700 opacity-80 mb-5"},v={class:"fs-14 mb-3 fw-700 primary-text"},x={class:"fw-500 text-h4"},D={class:"fs-14 mb-3 fw-700 primary-text"},$={class:"fw-500 text-h4"},A={class:"fw-700 fs-12 opacity-60"},C={class:"fs-14 mb-3 w-100"},P={class:"fw-500 text-h4"},k={class:"fw-700 fs-12"},j={class:"fw-500 text-h4"},S={class:"fw-700 fs-12"},V={class:"fw-500 text-h4"},W={class:"fw-700 fs-12"},B={class:"fw-700 fs-16 border-bottom pb-2 mx-2 my-2"},L={class:"h-350px overflow-auto c-scrollbar pa-2"},R={class:"fw-700 fs-16 border-bottom pb-2 mx-2 my-2"},q={key:0,class:"h-340px overflow-auto c-scrollbar pa-2"},T={class:"fw-700 fs-16 border-bottom pb-2"},U={key:0,class:"mt-3 lh-1-8"},z={class:"fw-700 fs-16 border-bottom pb-2 mx-2 my-2"},F={class:"h-340px overflow-auto c-scrollbar pa-2"};const I=e(w,[["render",function(e,s,t,p,_,w){const I=a("banner"),E=a("v-sheet"),G=a("v-col"),H=a("recharge-dialog"),J=a("v-btn"),K=a("v-row"),M=a("product-box"),N=a("address-dialog");return d(),r("div",null,[l(I,{loading:!1,banner:e.$store.getters["app/banners"].dashboard_page_top},null,8,["banner"]),o("div",y,[o("h1",m,i(e.$t("dashboard")),1),1==e.generalSettings.wallet_system?(d(),n(K,{key:0},{default:c(()=>[l(G,{cols:"12",sm:"4"},{default:c(()=>[l(E,{color:"grey-darken-3",rounded:"rounded",elevation:"0",height:"130",class:"d-flex justify-center align-center white-text flex-column"},{default:c(()=>[o("div",v,i(e.$t("wallet_balance")),1),o("div",x,i(e.format_price(e.currentUser.balance)),1)]),_:1})]),_:1}),l(G,{cols:"12",sm:"4"},{default:c(()=>[l(E,{color:"grey-darken-3",rounded:"rounded",elevation:"0",height:"130",class:"d-flex justify-center align-center white-text flex-column"},{default:c(()=>[o("div",D,i(e.$t("last_recharge")),1),o("div",$,i(e.format_price(e.last_recharge.amount)),1),o("div",A,i(e.last_recharge.date),1)]),_:1})]),_:1}),l(G,{cols:"12",sm:"4"},{default:c(()=>[l(H,{show:e.rechargeDialogShow,from:"/user/dashboard",onClose:w.rechargeDialogClosed},null,8,["show","onClose"]),l(J,{class:"bg-grey-lighten-4 border-dashed border-gray-300 h-100 py-6",elevation:"0",block:"","x-large":"",onClick:s[0]||(s[0]=g(s=>e.rechargeDialogShow=!0,["stop"])),border:"dashed thin"},{default:c(()=>[o("span",null,[o("div",C,i(e.$t("recharge_wallet")),1),s[2]||(s[2]=o("i",{class:"las la-plus la-3x opacity-70"},null,-1))])]),_:1})]),_:1})]),_:1})):u("",!0),l(K,null,{default:c(()=>[l(G,{cols:"12",md:"4"},{default:c(()=>[l(E,{class:"bg-grey-lighten-5 border border-gray-200 mb-4 text-red d-flex justify-center flex-column pa-5",rounded:"rounded",elevation:"0",height:"130"},{default:c(()=>[o("div",P,i(e.getCartCount),1),o("div",k,i(e.$t("products_in_your_cart")),1)]),_:1}),l(E,{class:"bg-grey-lighten-5 border border-gray-200 mb-4 text-blue d-flex justify-center flex-column pa-5",rounded:"rounded",elevation:"0",height:"130"},{default:c(()=>[o("div",j,i(e.getTotalWishlisted),1),o("div",S,i(e.$t("products_in_your_wishlist")),1)]),_:1}),l(E,{class:"bg-grey-lighten-5 border border-gray-200 mb-4 text-green d-flex justify-center flex-column pa-5",rounded:"rounded",elevation:"0",height:"130"},{default:c(()=>[o("div",V,i(e.total_order_products),1),o("div",W,i(e.$t("products_you_ordered")),1)]),_:1}),l(I,{loading:!1,banner:e.$store.getters["app/banners"].dashboard_page_bottom},null,8,["banner"])]),_:1}),l(G,{cols:"12",md:"4"},{default:c(()=>[l(E,{class:"border border-gray-200 mb-4 pa-2",rounded:"rounded",height:"422",elevation:"0"},{default:c(()=>[o("div",B,i(e.$t("recent_purchase_history")),1),o("div",L,[(d(!0),r(h,null,f(e.purchasedProducts,(s,t)=>(d(),r("div",{key:t,class:b(["mt-3",{"border-top pt-3":0!=t}])},[l(M,{"product-details":s,"is-loading":e.dashboardLoading,"box-style":"two","no-border":""},null,8,["product-details","is-loading"])],2))),128))])]),_:1}),l(E,{class:"border border-gray-200 mb-4 pa-2 my-wishlist",rounded:"rounded",height:"405",elevation:"0"},{default:c(()=>[o("div",R,i(e.$t("my_wishlist")),1),e.wislistLoaded&&e.getWislistProducts.length>0?(d(),r("div",q,[(d(!0),r(h,null,f(e.getWislistProducts,(s,t)=>(d(),r("div",{key:t,class:b(["mt-3",{"border-top pt-3":0!=t}])},[l(M,{"product-details":s,"is-loading":!e.wislistLoaded,"box-style":"two","no-border":""},null,8,["product-details","is-loading"])],2))),128))])):u("",!0)]),_:1})]),_:1}),l(G,{cols:"12",md:"4"},{default:c(()=>[l(E,{class:"border border-gray-200 mb-4 pa-4",rounded:"rounded",elevation:"0",height:"275"},{default:c(()=>[o("div",T,i(e.$t("default_shipping_address")),1),e.getDefaultBillingAddress?(d(),r("div",U,[o("div",null,i(e.getDefaultBillingAddress.address),1),o("div",null,i(e.getDefaultBillingAddress.postal_code)+", "+i(e.getDefaultBillingAddress.city)+", "+i(e.getDefaultBillingAddress.state),1),o("div",null,i(e.getDefaultBillingAddress.country),1),o("div",null,i(e.getDefaultBillingAddress.phone),1)])):u("",!0)]),_:1}),l(E,{rounded:"rounded",elevation:"0",height:"131",class:"mb-4"},{default:c(()=>[l(J,{class:"bg-grey-lighten-4 border-dashed border-gray-300 primary-text fs-14 h-100",elevation:"0",block:"","x-large":"",onClick:s[1]||(s[1]=g(s=>e.addressDialogShow=!0,["stop"])),border:"dashed thin"},{default:c(()=>[s[3]||(s[3]=o("i",{class:"las la-plus"},null,-1)),o("span",null,i(e.$t("add_new_address")),1)]),_:1})]),_:1}),l(N,{show:e.addressDialogShow,onClose:w.addressDialogClosed},null,8,["show","onClose"]),l(E,{class:"border border-gray-200 mb-4 pa-2 recenty-viewed",rounded:"rounded",height:"405",elevation:"0"},{default:c(()=>[o("div",z,i(e.$t("recently_viewed")),1),o("div",F,[(d(!0),r(h,null,f(e.getRecentlyViewedProducts,(s,t)=>(d(),r("div",{key:t,class:b(["mt-3",{"border-top pt-3":0!=t}])},[l(M,{"product-details":s,"is-loading":!e.recentlyViewedLoaded,"box-style":"two","no-border":""},null,8,["product-details","is-loading"])],2))),128))])]),_:1})]),_:1})]),_:1})])])}],["__scopeId","data-v-be659125"]]);export{I as default};
