import{_ as t,h as e,o as a,i as s,k as l,t as i,j as n,w as o,q as r,F as d,p as u,v as c,z as p}from"./app-0e743bd7.js";const g={class:"ps-lg-7 pt-4"},m={class:"fs-24 fw-700 opacity-80 mb-5 mt-3"},h={class:"d-block fw-600"},f={class:"d-block fw-600"},v={class:"text-truncate-2"},_={key:0,class:""},b={class:"opacity-70"},y={class:"fw-500"},$={class:"opacity-70"},k={class:"fw-500"},w={class:"d-block fw-600"},x={key:0,class:"text-start"};const q=t({data:()=>({loading:!0,currentPage:1,totalPages:1,refund_requests:[]}),computed:{headers(){return[{title:this.$i18n.t("order_code"),align:"start",sortable:!1,value:"order_code"},{title:this.$i18n.t("shop"),sortable:!1,value:"shop"},{title:this.$i18n.t("products"),sortable:!1,align:"start",value:"products"},{title:this.$i18n.t("amount"),sortable:!1,align:"end",value:"amount"},{title:this.$i18n.t("status"),sortable:!1,align:"end",value:"status"}]}},watch:{currentPage(){this.$router.push({query:{...this.$route.query,page:this.currentPage}}).catch(()=>{})}},methods:{async getList(t){this.loading=!0;const e=await this.call_api("get",`user/refund-requests?page=${t}`);e.data.success?(this.refund_requests=e.data.data,this.totalPages=e.data.meta.last_page,this.currentPage=e.data.meta.current_page):this.snack({message:this.$i18n.t("something_went_wrong"),color:"red"}),this.loading=!1}},created(){let t=this.$route.query.page||this.currentPage;this.getList(t)}},[["render",function(t,q,P,z,V,j){const L=e("v-btn"),U=e("v-data-table"),F=e("v-pagination");return a(),s("div",g,[l("h1",m,i(t.$t("refund_requests")),1),l("div",null,[n(U,{headers:j.headers,items:t.refund_requests,class:"border px-4 pt-3","loading-text":t.$t("loading_please_wait"),"no-data-text":t.$t("no_data_available")||"Không có dữ liệu","hide-default-footer":"",loading:t.loading},{"item.order_code":o(({item:t})=>[l("span",h,i(t.order_code),1)]),"item.shop":o(({item:t})=>[l("span",f,i(t.shop),1)]),"item.products":o(({item:e})=>[(a(!0),s(d,null,u(e.refunditems,(e,n)=>(a(),s("div",{key:n,class:"mb-3"},[l("div",v,i(e.product.name),1),e.product.combinations.length>0?(a(),s("div",_,[(a(!0),s(d,null,u(e.product.combinations,(t,e)=>(a(),s("span",{key:e,class:"me-4 py-1 fs-12"},[l("span",b,i(t.attribute),1),q[1]||(q[1]=c(" : ",-1)),l("span",y,i(t.value),1)]))),128))])):r("",!0),l("span",$,i(t.$t("quantity")),1),q[2]||(q[2]=c(" : ",-1)),l("span",k,i(e.quantity),1)]))),128))]),"item.amount":o(({item:e})=>[l("span",w,i(t.format_price(e.amount)),1)]),"item.status":o(({item:e})=>[0==e.status?(a(),p(L,{key:0,size:"x-small",color:"info",elevation:"0"},{default:o(()=>[c(i(t.$t("pending")),1)]),_:1})):1==e.status?(a(),p(L,{key:1,size:"x-small",color:"success",elevation:"0"},{default:o(()=>[c(i(t.$t("accepted")),1)]),_:1})):(a(),p(L,{key:2,size:"x-small",color:"error",elevation:"0"},{default:o(()=>[c(i(t.$t("rejected")),1)]),_:1}))]),_:2},1032,["headers","items","loading-text","no-data-text","loading"]),t.totalPages>1?(a(),s("div",x,[n(F,{modelValue:t.currentPage,"onUpdate:modelValue":[q[0]||(q[0]=e=>t.currentPage=e),j.getList],length:t.totalPages,"prev-icon":"las la-angle-left","next-icon":"las la-angle-right","total-visible":7,elevation:"0",class:"my-4"},null,8,["modelValue","onUpdate:modelValue","length"])])):r("",!0)])])}]]);export{q as default};
