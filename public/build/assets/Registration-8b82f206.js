import{_ as T,u as B,a as D,x as F,c as A,S as N,b as w,r as S,e as W,y as P,m as $,f as c,g as V,l as O,d as j,h as l,o as r,i as n,j as i,w as d,k as o,t as a,n as z,F as f,p as g,s as M,q as u,v as h}from"./app-65cf1f07.js";const{verifyRecaptcha:Q}=B(),E={data:()=>({mobileInputProps:{inputOptions:{type:"tel",placeholder:"phone number"},dropdownOptions:{showDialCodeInSelection:!1,showFlags:!0,showDialCodeInList:!0},autoDefaultCountry:!1,validCharactersOnly:!0,mode:"international"},v$:D(),form:{name:"",phone:"",email:"",password:"",confirmPassword:"",invalidPhone:!0,showInvalidPhone:!1},passwordShow:!1,loading:!1}),components:{snackbar:F,VueTelInput:A,SocialLogin:N},validations:{form:{name:{required:w},email:{requiredIf:S(function(){return this.authSettings.customer_login_with=="email"||this.authSettings.customer_login_with=="email_phone"}),email:W},phone:{requiredIf:S(function(){return this.authSettings.customer_login_with=="phone"||this.authSettings.customer_login_with=="email_phone"})},password:{required:w,minLength:P(6)},confirmPassword:{required:w,minLength:P(6)}}},computed:{...$("app",["generalSettings","availableCountries"]),...$("auth",["authSettings"]),...$("cart",["getTempUserId"])},methods:{...c("auth",["login"]),...V("cart",["removeTempUserId"]),...V("auth",["updateChatWindow","showLoginDialog"]),...c("app",["fetchProductQuerries","generalSettings"]),...c("wishlist",["fetchWislistProducts"]),...c("cart",["fetchCartProducts"]),phoneValidate(e){this.form.invalidPhone=!e.valid,e.valid&&(this.form.showInvalidPhone=!1)},async register(){if(this.generalSettings.google_recaptcha&&this.generalSettings.recaptcha_customer_register){const m=await Q("track_order");if(!m.success){this.snack({message:m.message,color:"red"});return}}if(!await this.v$.$validate())return;if((this.authSettings.customer_login_with=="phone"||this.authSettings.customer_login_with=="email_phone")&&this.form.invalidPhone){this.form.showInvalidPhone=!0;return}this.form.phone=this.form.phone.replace(/\s/g,""),this.getTempUserId&&(this.form.temp_user_id=this.getTempUserId),this.loading=!0;const t=await this.call_api("post","auth/signup",this.form);t.data.success?(this.getTempUserId&&this.removeTempUserId(),this.authSettings.customer_otp_with=="disabled"?(this.login(t.data),this.showLoginDialog(!1),this.updateChatWindow(!1),this.fetchWislistProducts(),this.fetchProductQuerries(),this.fetchCartProducts(),this.$router.push(this.$route.query.redirect||{name:"DashBoard"})):(this.authSettings.customer_login_with=="email"||this.authSettings.customer_login_with=="email_phone"&&this.authSettings.customer_otp_with=="email"?this.$router.push({name:"VerifyAccount",params:{email:this.form.email}}):this.$router.push({name:"VerifyAccount",params:{phone:this.form.phone}}),this.snack({message:t.data.message}))):this.snack({message:t.data.message,color:"red"}),this.loading=!1},async registrationReferralCode(e){await this.call_api("post","affiliate/registration-refferal-code",{referralCode:e})}},async mounted(){const t=new URLSearchParams(window.location.search).get("referral_code");if(t!=null&&this.registrationReferralCode(t),this.generalSettings.google_recaptcha&&this.generalSettings.recaptcha_customer_register)try{await O(""),this.recaptchaReady=!0,console.log("reCAPTCHA ready!")}catch(m){console.error(m)}},beforeUnmount(){j()}},G={class:"my-5 my-lg-16 rounded-lg pa-5 border overflow-hidden shadow-light"},H={class:"px-lg-7"},J={class:"text-uppercase lh-1 mb-5"},K={class:"opacity-50 fs-22 fw-400"},X={class:"d-block display-1 fs-34 fw-900"},Y={class:"mb-4"},Z={class:"mb-1 fs-13 fw-500"},x={key:0,class:"mb-4"},ee={class:"mb-1 fs-13 fw-500"},te={key:0,class:"v-text-field__details mt-2 pl-3"},se={class:"v-messages theme--light error--text",role:"alert"},oe={class:"v-messages__wrapper"},ae={class:"v-messages__message"},ie={key:1,class:"v-text-field__details mt-2 pl-3"},re={class:"v-messages theme--light error--text",role:"alert"},ne={class:"v-messages__wrapper"},le={class:"v-messages__message text-red"},de={key:1,class:"mb-4"},me={class:"fs-13 fw-500"},ue={class:"mb-4"},he={class:"mb-1 fs-13 fw-500"},pe={class:"mb-4"},ce={class:"mb-1 fs-13 fw-500"},fe={class:"mb-4"},ge={key:0},_e={class:"d-flex align-center mb-3"},ve={class:"me-2 fs-13 fw-500 opacity-60 w-110px"};function we(e,t,m,$e,ye,_){const C=l("banner"),v=l("v-col"),p=l("v-text-field"),k=l("vue-tel-input"),y=l("router-link"),I=l("v-btn"),U=l("v-form"),L=l("v-divider"),q=l("SocialLogin"),b=l("v-row"),R=l("v-container");return r(),n("div",null,[i(R,null,{default:d(()=>[i(b,null,{default:d(()=>[i(v,{xl:"10",class:"mx-auto"},{default:d(()=>[o("div",G,[i(b,{"no-gutters":"",align:"start"},{default:d(()=>[i(v,{cols:"12",lg:"6",order:"2","order-lg":"1",class:"lh-0"},{default:d(()=>[i(C,{loading:!1,banner:e.$store.getters["app/banners"].registration_page,class:"mt-5 mt-lg-0"},null,8,["banner"])]),_:1}),i(v,{cols:"12",order:"1","order-lg":"2",lg:"6"},{default:d(()=>[o("div",H,[o("h1",J,[o("span",K,a(e.$t("welcome_to")),1),o("span",X,a(e.$store.getters["app/appName"]),1)]),i(U,{ref:"loginForm","lazy-validation":"",onSubmit:t[9]||(t[9]=z(s=>_.register(),["prevent"]))},{default:d(()=>[o("div",Y,[o("div",Z,a(e.$t("full_name")),1),i(p,{variant:"plain",class:"text-field",placeholder:e.$t("full_name"),type:"text",modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=s=>e.form.name=s),onBlur:t[1]||(t[1]=s=>e.v$.form.name.$touch()),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),(r(!0),n(f,null,g(e.v$.form.name.$errors,s=>(r(),n("p",{key:s.$uid,class:"text-red"},a(s.$message),1))),128))]),e.authSettings.customer_login_with=="phone"||e.authSettings.customer_login_with=="email_phone"?(r(),n("div",x,[o("div",ee,a(e.$t("phone_number")),1),i(k,M({modelValue:e.form.phone,"onUpdate:modelValue":t[2]||(t[2]=s=>e.form.phone=s)},e.mobileInputProps,{onlyCountries:e.availableCountries,onValidate:_.phoneValidate}),{default:d(()=>[...t[10]||(t[10]=[o("template",{slot:"arrow-icon"},[o("span",{class:"vti__dropdown-arrow"}," ▼")],-1)])]),_:1},16,["modelValue","onlyCountries","onValidate"]),e.v$.form.phone.$error?(r(),n("div",te,[o("div",se,[o("div",oe,[o("div",ae,a(e.$t("this_field_is_required")),1)])])])):u("",!0),!e.v$.form.phone.$error&&e.form.showInvalidPhone?(r(),n("div",ie,[o("div",re,[o("div",ne,[o("div",le,a(e.$t("phone_number_must_be_valid")),1)])])])):u("",!0)])):u("",!0),e.authSettings.customer_login_with=="email"||e.authSettings.customer_login_with=="email_phone"?(r(),n("div",de,[o("div",me,a(e.$t("email_address")),1),i(p,{variant:"plain",class:"text-field",placeholder:e.$t("email_address"),type:"email",modelValue:e.form.email,"onUpdate:modelValue":t[3]||(t[3]=s=>e.form.email=s),onBlur:t[4]||(t[4]=s=>e.v$.form.email.$touch()),"hide-details":"auto",required:"",outlined:""},null,8,["placeholder","modelValue"]),(r(!0),n(f,null,g(e.v$.form.email.$errors,s=>(r(),n("p",{key:s.$uid,class:"text-red"},a(s.$message),1))),128))])):u("",!0),o("div",ue,[o("div",he,a(e.$t("password")),1),i(p,{variant:"plain",placeholder:"* * * * * * * *",modelValue:e.form.password,"onUpdate:modelValue":t[5]||(t[5]=s=>e.form.password=s),onBlur:t[6]||(t[6]=s=>e.v$.form.password.$touch()),type:"password",class:"text-field input-group--focused","hide-details":"auto",required:"",outlined:""},null,8,["modelValue"]),(r(!0),n(f,null,g(e.v$.form.password.$errors,s=>(r(),n("p",{key:s.$uid,class:"text-red"},a(s.$message),1))),128))]),o("div",pe,[o("div",ce,a(e.$t("confirm_password")),1),i(p,{variant:"plain",placeholder:"* * * * * * * *",modelValue:e.form.confirmPassword,"onUpdate:modelValue":t[7]||(t[7]=s=>e.form.confirmPassword=s),onBlur:t[8]||(t[8]=s=>e.v$.form.confirmPassword.$touch()),type:"password",class:"text-field input-group--focused","hide-details":"auto",required:"",outlined:""},null,8,["modelValue"]),(r(!0),n(f,null,g(e.v$.form.confirmPassword.$errors,s=>(r(),n("p",{key:s.$uid,class:"text-red"},a(s.$message),1))),128))]),o("div",fe,[h(a(e.$t("by_signing_up_you_agree_to_our"))+" ",1),i(y,{to:{name:"CustomPage",params:{pageSlug:"terms-and-conditions"}},class:"primary--text text-decoration-underline"},{default:d(()=>[h(a(e.$t("terms_and_conditions")),1)]),_:1})]),i(I,{style:{color:"#fff !important"},size:"x-large",class:"px-12 mb-4",elevation:"0",type:"submit",color:"primary",onClick:_.register,loading:e.loading,disabled:e.loading},{default:d(()=>[h(a(e.$t("create_account")),1)]),_:1},8,["onClick","loading","disabled"])]),_:1},512),e.generalSettings.social_login.facebook==1||e.generalSettings.social_login.twitter==1||e.generalSettings.social_login.google==1?(r(),n("div",ge,[o("div",_e,[o("span",ve,a(e.$t("or"))+", "+a(e.$t("join_with")),1),i(L)]),i(q,{class:"mb-5"})])):u("",!0),o("div",null,[h(a(e.$t("already_have_an_account"))+", ",1),i(y,{to:{name:"Login"},class:"primary--texttext-decoration-underline"},{default:d(()=>[h(a(e.$t("login")),1)]),_:1})])])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})])}const Se=T(E,[["render",we]]);export{Se as default};
